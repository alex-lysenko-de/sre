
create table public.children (
  id bigint generated by default as identity not null,
  created_at timestamp without time zone not null,
  name character varying null,
  age smallint null,
  schwimmer smallint null default '0'::smallint,
  status smallint null default '0'::smallint,
  notes text null default '""'::text,
  group_id bigint null,
  band_id bigint null,
  constraint children_pkey primary key (id),
  constraint children_band_id_key unique (band_id)
) TABLESPACE pg_default;

-------


create table public.scans (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  date character varying not null,
  user_id bigint null,
  child_id bigint null,  
  band_id bigint null,
  bus_id smallint null,
  type smallint null default '1'::smallint,  -- reserved for future use
  constraint scans_pkey primary key (id),
  constraint scans_child_id_fkey foreign KEY (child_id) references children (id) on update CASCADE on delete CASCADE,
  constraint scans_type_fkey foreign KEY (type) references scan_type (id) on update CASCADE on delete set null
) TABLESPACE pg_default;


------


create table public.children_today (
  id bigint generated by default as identity not null,
  user_id bigint not null,
  child_id bigint not null,
  group_id smallint null,
  presence_today smallint null default '1'::smallint,
  presence_now smallint null default '0'::smallint,
  bus_today smallint null,
  bus_now smallint null,
  constraint children_today_pkey primary key (id),
  constraint children_today_child_id_key unique (child_id),
  constraint children_today_child_id_fkey foreign KEY (child_id) references children (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;
----
create table public.groups_today (
  id bigint generated by default as identity not null,
  user_id bigint not null,
  group_id smallint not null,
  children_today smallint null default '0'::smallint,
  children_now smallint null default '0'::smallint,
  constraint groups_today_pkey primary key (id),
  constraint groups_today_group_id_key unique (group_id),
  constraint groups_today_user_id_key unique (user_id),
  constraint groups_today_user_id_fkey foreign KEY (user_id) references users (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;


-----
create table public.reset_events (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  user_id smallint null,
  day character varying null,  -- date in ISO format yyyy-mm-dd
  event_type smallint null default '1'::smallint, -- 
  constraint reset_events_pkey primary key (id)
) TABLESPACE pg_default;

Here event_type = [0 ,1]
"0" => "error reset_event" when ein kind gescannt by mistake. 
"1" => "success reset_event" 

