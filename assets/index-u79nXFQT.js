(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ca(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ge={},cs=[],It=()=>{},nd=()=>!1,_i=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Oa=t=>t.startsWith("onUpdate:"),je=Object.assign,Ra=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qf=Object.prototype.hasOwnProperty,fe=(t,e)=>Qf.call(t,e),X=Array.isArray,us=t=>vr(t)==="[object Map]",Os=t=>vr(t)==="[object Set]",Sl=t=>vr(t)==="[object Date]",te=t=>typeof t=="function",Te=t=>typeof t=="string",xt=t=>typeof t=="symbol",me=t=>t!==null&&typeof t=="object",sd=t=>(me(t)||te(t))&&te(t.then)&&te(t.catch),rd=Object.prototype.toString,vr=t=>rd.call(t),Xf=t=>vr(t).slice(8,-1),id=t=>vr(t)==="[object Object]",Ia=t=>Te(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hs=Ca(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vi=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Zf=/-\w/g,at=vi(t=>t.replace(Zf,e=>e.slice(1).toUpperCase())),ep=/\B([A-Z])/g,$n=vi(t=>t.replace(ep,"-$1").toLowerCase()),bi=vi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Bi=vi(t=>t?`on${bi(t)}`:""),ln=(t,e)=>!Object.is(t,e),qr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},od=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Xr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Al;const yi=()=>Al||(Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ka(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Te(s)?rp(s):ka(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Te(t)||me(t))return t}const tp=/;(?![^(]*\))/g,np=/:([^]+)/,sp=/\/\*[^]*?\*\//g;function rp(t){const e={};return t.replace(sp,"").split(tp).forEach(n=>{if(n){const s=n.split(np);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Pa(t){let e="";if(Te(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const s=Pa(t[n]);s&&(e+=s+" ")}else if(me(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ip="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",op=Ca(ip);function ad(t){return!!t||t===""}function ap(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=br(t[s],e[s]);return n}function br(t,e){if(t===e)return!0;let n=Sl(t),s=Sl(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=xt(t),s=xt(e),n||s)return t===e;if(n=X(t),s=X(e),n||s)return n&&s?ap(t,e):!1;if(n=me(t),s=me(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!br(t[o],e[o]))return!1}}return String(t)===String(e)}function xa(t,e){return t.findIndex(n=>br(n,e))}const ld=t=>!!(t&&t.__v_isRef===!0),Ft=t=>Te(t)?t:t==null?"":X(t)||me(t)&&(t.toString===rd||!te(t.toString))?ld(t)?Ft(t.value):JSON.stringify(t,cd,2):String(t),cd=(t,e)=>ld(e)?cd(t,e.value):us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Fi(s,i)+" =>"]=r,n),{})}:Os(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Fi(n))}:xt(e)?Fi(e):me(e)&&!X(e)&&!id(e)?String(e):e,Fi=(t,e="")=>{var n;return xt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class lp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!e&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ze;try{return ze=this,e()}finally{ze=n}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function cp(){return ze}let ve;const Vi=new WeakSet;class ud{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vi.has(this)&&(Vi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tl(this),fd(this);const e=ve,n=pt;ve=this,pt=!0;try{return this.fn()}finally{pd(this),ve=e,pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Da(e);this.deps=this.depsTail=void 0,Tl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ko(this)&&this.run()}get dirty(){return Ko(this)}}let dd=0,qs,Ws;function hd(t,e=!1){if(t.flags|=8,e){t.next=Ws,Ws=t;return}t.next=qs,qs=t}function $a(){dd++}function Na(){if(--dd>0)return;if(Ws){let e=Ws;for(Ws=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;qs;){let e=qs;for(qs=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function fd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pd(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Da(s),up(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Ko(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===or)||(t.globalVersion=or,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ko(t))))return;t.flags|=2;const e=t.dep,n=ve,s=pt;ve=t,pt=!0;try{fd(t);const r=t.fn(t._value);(e.version===0||ln(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{ve=n,pt=s,pd(t),t.flags&=-3}}function Da(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Da(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function up(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let pt=!0;const md=[];function Wt(){md.push(pt),pt=!1}function Kt(){const t=md.pop();pt=t===void 0?!0:t}function Tl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ve;ve=void 0;try{e()}finally{ve=n}}}let or=0;class dp{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class La{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ve||!pt||ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ve)n=this.activeLink=new dp(ve,this),ve.deps?(n.prevDep=ve.depsTail,ve.depsTail.nextDep=n,ve.depsTail=n):ve.deps=ve.depsTail=n,_d(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ve.depsTail,n.nextDep=void 0,ve.depsTail.nextDep=n,ve.depsTail=n,ve.deps===n&&(ve.deps=s)}return n}trigger(e){this.version++,or++,this.notify(e)}notify(e){$a();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Na()}}}function _d(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)_d(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const zo=new WeakMap,In=Symbol(""),Go=Symbol(""),ar=Symbol("");function Ne(t,e,n){if(pt&&ve){let s=zo.get(t);s||zo.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new La),r.map=s,r.key=n),r.track()}}function Ut(t,e,n,s,r,i){const o=zo.get(t);if(!o){or++;return}const a=l=>{l&&l.trigger()};if($a(),e==="clear")o.forEach(a);else{const l=X(t),u=l&&Ia(n);if(l&&n==="length"){const c=Number(s);o.forEach((d,f)=>{(f==="length"||f===ar||!xt(f)&&f>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(ar)),e){case"add":l?u&&a(o.get("length")):(a(o.get(In)),us(t)&&a(o.get(Go)));break;case"delete":l||(a(o.get(In)),us(t)&&a(o.get(Go)));break;case"set":us(t)&&a(o.get(In));break}}Na()}function Bn(t){const e=he(t);return e===t?e:(Ne(e,"iterate",ar),rt(t)?e:e.map($e))}function wi(t){return Ne(t=he(t),"iterate",ar),t}const hp={__proto__:null,[Symbol.iterator](){return Hi(this,Symbol.iterator,$e)},concat(...t){return Bn(this).concat(...t.map(e=>X(e)?Bn(e):e))},entries(){return Hi(this,"entries",t=>(t[1]=$e(t[1]),t))},every(t,e){return Dt(this,"every",t,e,void 0,arguments)},filter(t,e){return Dt(this,"filter",t,e,n=>n.map($e),arguments)},find(t,e){return Dt(this,"find",t,e,$e,arguments)},findIndex(t,e){return Dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dt(this,"findLast",t,e,$e,arguments)},findLastIndex(t,e){return Dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return qi(this,"includes",t)},indexOf(...t){return qi(this,"indexOf",t)},join(t){return Bn(this).join(t)},lastIndexOf(...t){return qi(this,"lastIndexOf",t)},map(t,e){return Dt(this,"map",t,e,void 0,arguments)},pop(){return Ds(this,"pop")},push(...t){return Ds(this,"push",t)},reduce(t,...e){return Cl(this,"reduce",t,e)},reduceRight(t,...e){return Cl(this,"reduceRight",t,e)},shift(){return Ds(this,"shift")},some(t,e){return Dt(this,"some",t,e,void 0,arguments)},splice(...t){return Ds(this,"splice",t)},toReversed(){return Bn(this).toReversed()},toSorted(t){return Bn(this).toSorted(t)},toSpliced(...t){return Bn(this).toSpliced(...t)},unshift(...t){return Ds(this,"unshift",t)},values(){return Hi(this,"values",$e)}};function Hi(t,e,n){const s=wi(t),r=s[e]();return s!==t&&!rt(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const fp=Array.prototype;function Dt(t,e,n,s,r,i){const o=wi(t),a=o!==t&&!rt(t),l=o[e];if(l!==fp[e]){const d=l.apply(t,i);return a?$e(d):d}let u=n;o!==t&&(a?u=function(d,f){return n.call(this,$e(d),f,t)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,t)}));const c=l.call(o,u,s);return a&&r?r(c):c}function Cl(t,e,n,s){const r=wi(t);let i=n;return r!==t&&(rt(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,$e(a),l,t)}),r[e](i,...s)}function qi(t,e,n){const s=he(t);Ne(s,"iterate",ar);const r=s[e](...n);return(r===-1||r===!1)&&Ua(n[0])?(n[0]=he(n[0]),s[e](...n)):r}function Ds(t,e,n=[]){Wt(),$a();const s=he(t)[e].apply(t,n);return Na(),Kt(),s}const pp=Ca("__proto__,__v_isRef,__isVue"),vd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xt));function gp(t){xt(t)||(t=String(t));const e=he(this);return Ne(e,"has",t),e.hasOwnProperty(t)}class bd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Tp:Sd:i?Ed:wd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=X(e);if(!r){let l;if(o&&(l=hp[n]))return l;if(n==="hasOwnProperty")return gp}const a=Reflect.get(e,n,Le(e)?e:s);if((xt(n)?vd.has(n):pp(n))||(r||Ne(e,"get",n),i))return a;if(Le(a)){const l=o&&Ia(n)?a:a.value;return r&&me(l)?Yo(l):l}return me(a)?r?Yo(a):yr(a):a}}class yd extends bd{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=cn(i);if(!rt(s)&&!cn(s)&&(i=he(i),s=he(s)),!X(e)&&Le(i)&&!Le(s))return l||(i.value=s),!0}const o=X(e)&&Ia(n)?Number(n)<e.length:fe(e,n),a=Reflect.set(e,n,s,Le(e)?e:r);return e===he(r)&&(o?ln(s,i)&&Ut(e,"set",n,s):Ut(e,"add",n,s)),a}deleteProperty(e,n){const s=fe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Ut(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!xt(n)||!vd.has(n))&&Ne(e,"has",n),s}ownKeys(e){return Ne(e,"iterate",X(e)?"length":In),Reflect.ownKeys(e)}}class mp extends bd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _p=new yd,vp=new mp,bp=new yd(!0);const Jo=t=>t,Ir=t=>Reflect.getPrototypeOf(t);function yp(t,e,n){return function(...s){const r=this.__v_raw,i=he(r),o=us(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),c=n?Jo:e?Zr:$e;return!e&&Ne(i,"iterate",l?Go:In),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function kr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wp(t,e){const n={get(r){const i=this.__v_raw,o=he(i),a=he(r);t||(ln(r,a)&&Ne(o,"get",r),Ne(o,"get",a));const{has:l}=Ir(o),u=e?Jo:t?Zr:$e;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Ne(he(r),"iterate",In),r.size},has(r){const i=this.__v_raw,o=he(i),a=he(r);return t||(ln(r,a)&&Ne(o,"has",r),Ne(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=he(a),u=e?Jo:t?Zr:$e;return!t&&Ne(l,"iterate",In),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return je(n,t?{add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear")}:{add(r){!e&&!rt(r)&&!cn(r)&&(r=he(r));const i=he(this);return Ir(i).has.call(i,r)||(i.add(r),Ut(i,"add",r,r)),this},set(r,i){!e&&!rt(i)&&!cn(i)&&(i=he(i));const o=he(this),{has:a,get:l}=Ir(o);let u=a.call(o,r);u||(r=he(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?ln(i,c)&&Ut(o,"set",r,i):Ut(o,"add",r,i),this},delete(r){const i=he(this),{has:o,get:a}=Ir(i);let l=o.call(i,r);l||(r=he(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&Ut(i,"delete",r,void 0),u},clear(){const r=he(this),i=r.size!==0,o=r.clear();return i&&Ut(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=yp(r,t,e)}),n}function ja(t,e){const n=wp(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(fe(n,r)&&r in s?n:s,r,i)}const Ep={get:ja(!1,!1)},Sp={get:ja(!1,!0)},Ap={get:ja(!0,!1)};const wd=new WeakMap,Ed=new WeakMap,Sd=new WeakMap,Tp=new WeakMap;function Cp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Op(t){return t.__v_skip||!Object.isExtensible(t)?0:Cp(Xf(t))}function yr(t){return cn(t)?t:Ma(t,!1,_p,Ep,wd)}function Ad(t){return Ma(t,!1,bp,Sp,Ed)}function Yo(t){return Ma(t,!0,vp,Ap,Sd)}function Ma(t,e,n,s,r){if(!me(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Op(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function ds(t){return cn(t)?ds(t.__v_raw):!!(t&&t.__v_isReactive)}function cn(t){return!!(t&&t.__v_isReadonly)}function rt(t){return!!(t&&t.__v_isShallow)}function Ua(t){return t?!!t.__v_raw:!1}function he(t){const e=t&&t.__v_raw;return e?he(e):t}function Rp(t){return!fe(t,"__v_skip")&&Object.isExtensible(t)&&od(t,"__v_skip",!0),t}const $e=t=>me(t)?yr(t):t,Zr=t=>me(t)?Yo(t):t;function Le(t){return t?t.__v_isRef===!0:!1}function ue(t){return Td(t,!1)}function Ip(t){return Td(t,!0)}function Td(t,e){return Le(t)?t:new kp(t,e)}class kp{constructor(e,n){this.dep=new La,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:he(e),this._value=n?e:$e(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||rt(e)||cn(e);e=s?e:he(e),ln(e,n)&&(this._rawValue=e,this._value=s?e:$e(e),this.dep.trigger())}}function it(t){return Le(t)?t.value:t}const Pp={get:(t,e,n)=>e==="__v_raw"?t:it(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Le(r)&&!Le(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Cd(t){return ds(t)?t:new Proxy(t,Pp)}class xp{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new La(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=or-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return hd(this,!0),!0}get value(){const e=this.dep.track();return gd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $p(t,e,n=!1){let s,r;return te(t)?s=t:(s=t.get,r=t.set),new xp(s,r,n)}const Pr={},ei=new WeakMap;let En;function Np(t,e=!1,n=En){if(n){let s=ei.get(n);s||ei.set(n,s=[]),s.push(t)}}function Dp(t,e,n=ge){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=y=>r?y:rt(y)||r===!1||r===0?Bt(y,1):Bt(y);let c,d,f,h,g=!1,p=!1;if(Le(t)?(d=()=>t.value,g=rt(t)):ds(t)?(d=()=>u(t),g=!0):X(t)?(p=!0,g=t.some(y=>ds(y)||rt(y)),d=()=>t.map(y=>{if(Le(y))return y.value;if(ds(y))return u(y);if(te(y))return l?l(y,2):y()})):te(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Wt();try{f()}finally{Kt()}}const y=En;En=c;try{return l?l(t,3,[h]):t(h)}finally{En=y}}:d=It,e&&r){const y=d,$=r===!0?1/0:r;d=()=>Bt(y(),$)}const v=cp(),E=()=>{c.stop(),v&&v.active&&Ra(v.effects,c)};if(i&&e){const y=e;e=(...$)=>{y(...$),E()}}let w=p?new Array(t.length).fill(Pr):Pr;const b=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const $=c.run();if(r||g||(p?$.some((A,R)=>ln(A,w[R])):ln($,w))){f&&f();const A=En;En=c;try{const R=[$,w===Pr?void 0:p&&w[0]===Pr?[]:w,h];w=$,l?l(e,3,R):e(...R)}finally{En=A}}}else c.run()};return a&&a(b),c=new ud(d),c.scheduler=o?()=>o(b,!1):b,h=y=>Np(y,!1,c),f=c.onStop=()=>{const y=ei.get(c);if(y){if(l)l(y,4);else for(const $ of y)$();ei.delete(c)}},e?s?b(!0):w=c.run():o?o(b.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function Bt(t,e=1/0,n){if(e<=0||!me(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Le(t))Bt(t.value,e,n);else if(X(t))for(let s=0;s<t.length;s++)Bt(t[s],e,n);else if(Os(t)||us(t))t.forEach(s=>{Bt(s,e,n)});else if(id(t)){for(const s in t)Bt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Bt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wr(t,e,n,s){try{return s?t(...s):t()}catch(r){Ei(r,e,n)}}function $t(t,e,n,s){if(te(t)){const r=wr(t,e,n,s);return r&&sd(r)&&r.catch(i=>{Ei(i,e,n)}),r}if(X(t)){const r=[];for(let i=0;i<t.length;i++)r.push($t(t[i],e,n,s));return r}}function Ei(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ge;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){Wt(),wr(i,null,10,[t,l,u]),Kt();return}}Lp(t,n,r,s,o)}function Lp(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Fe=[];let St=-1;const hs=[];let tn=null,ts=0;const Od=Promise.resolve();let ti=null;function Si(t){const e=ti||Od;return t?e.then(this?t.bind(this):t):e}function jp(t){let e=St+1,n=Fe.length;for(;e<n;){const s=e+n>>>1,r=Fe[s],i=lr(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Ba(t){if(!(t.flags&1)){const e=lr(t),n=Fe[Fe.length-1];!n||!(t.flags&2)&&e>=lr(n)?Fe.push(t):Fe.splice(jp(e),0,t),t.flags|=1,Rd()}}function Rd(){ti||(ti=Od.then(kd))}function Mp(t){X(t)?hs.push(...t):tn&&t.id===-1?tn.splice(ts+1,0,t):t.flags&1||(hs.push(t),t.flags|=1),Rd()}function Ol(t,e,n=St+1){for(;n<Fe.length;n++){const s=Fe[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Fe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Id(t){if(hs.length){const e=[...new Set(hs)].sort((n,s)=>lr(n)-lr(s));if(hs.length=0,tn){tn.push(...e);return}for(tn=e,ts=0;ts<tn.length;ts++){const n=tn[ts];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}tn=null,ts=0}}const lr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kd(t){try{for(St=0;St<Fe.length;St++){const e=Fe[St];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),wr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;St<Fe.length;St++){const e=Fe[St];e&&(e.flags&=-2)}St=-1,Fe.length=0,Id(),ti=null,(Fe.length||hs.length)&&kd()}}let Ze=null,Pd=null;function ni(t){const e=Ze;return Ze=t,Pd=t&&t.type.__scopeId||null,e}function Ks(t,e=Ze,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ii(-1);const i=ni(e);let o;try{o=t(...r)}finally{ni(i),s._d&&ii(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ft(t,e){if(Ze===null)return t;const n=Oi(Ze),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=ge]=e[r];i&&(te(i)&&(i={mounted:i,updated:i}),i.deep&&Bt(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function vn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Wt(),$t(l,n,8,[t.el,a,t,e]),Kt())}}const Up=Symbol("_vte"),Bp=t=>t.__isTeleport,Fp=Symbol("_leaveCb");function Fa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xd(t,e){return te(t)?je({name:t.name},e,{setup:t}):t}function $d(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const si=new WeakMap;function zs(t,e,n,s,r=!1){if(X(t)){t.forEach((g,p)=>zs(g,e&&(X(e)?e[p]:e),n,s,r));return}if(Gs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&zs(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Oi(s.component):s.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ge?a.refs={}:a.refs,d=a.setupState,f=he(d),h=d===ge?nd:g=>fe(f,g);if(u!=null&&u!==l){if(Rl(e),Te(u))c[u]=null,h(u)&&(d[u]=null);else if(Le(u)){u.value=null;const g=e;g.k&&(c[g.k]=null)}}if(te(l))wr(l,a,12,[o,c]);else{const g=Te(l),p=Le(l);if(g||p){const v=()=>{if(t.f){const E=g?h(l)?d[l]:c[l]:l.value;if(r)X(E)&&Ra(E,i);else if(X(E))E.includes(i)||E.push(i);else if(g)c[l]=[i],h(l)&&(d[l]=c[l]);else{const w=[i];l.value=w,t.k&&(c[t.k]=w)}}else g?(c[l]=o,h(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const E=()=>{v(),si.delete(t)};E.id=-1,si.set(t,E),Ye(E,n)}else Rl(t),v()}}}function Rl(t){const e=si.get(t);e&&(e.flags|=8,si.delete(t))}yi().requestIdleCallback;yi().cancelIdleCallback;const Gs=t=>!!t.type.__asyncLoader,Nd=t=>t.type.__isKeepAlive;function Vp(t,e){Dd(t,"a",e)}function Hp(t,e){Dd(t,"da",e)}function Dd(t,e,n=De){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ai(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Nd(r.parent.vnode)&&qp(s,e,n,r),r=r.parent}}function qp(t,e,n,s){const r=Ai(e,t,s,!0);Va(()=>{Ra(s[e],r)},n)}function Ai(t,e,n=De,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Wt();const a=Er(n),l=$t(e,n,t,o);return a(),Kt(),l});return s?r.unshift(i):r.push(i),i}}const Gt=t=>(e,n=De)=>{(!ur||t==="sp")&&Ai(t,(...s)=>e(...s),n)},Wp=Gt("bm"),Nn=Gt("m"),Kp=Gt("bu"),zp=Gt("u"),Gp=Gt("bum"),Va=Gt("um"),Jp=Gt("sp"),Yp=Gt("rtg"),Qp=Gt("rtc");function Xp(t,e=De){Ai("ec",t,e)}const Zp="components";function Qo(t,e){return tg(Zp,t,!0,e)||t}const eg=Symbol.for("v-ndc");function tg(t,e,n=!0,s=!1){const r=Ze||De;if(r){const i=r.type;{const a=Kg(i,!1);if(a&&(a===e||a===at(e)||a===bi(at(e))))return i}const o=Il(r[t]||i[t],e)||Il(r.appContext[t],e);return!o&&s?i:o}}function Il(t,e){return t&&(t[e]||t[at(e)]||t[bi(at(e))])}function ng(t,e,n,s){let r;const i=n,o=X(t);if(o||Te(t)){const a=o&&ds(t);let l=!1,u=!1;a&&(l=!rt(t),u=cn(t),t=wi(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(l?u?Zr($e(t[c])):$e(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(me(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const Xo=t=>t?th(t)?Oi(t):Xo(t.parent):null,Js=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xo(t.parent),$root:t=>Xo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jd(t),$forceUpdate:t=>t.f||(t.f=()=>{Ba(t.update)}),$nextTick:t=>t.n||(t.n=Si.bind(t.proxy)),$watch:t=>Sg.bind(t)}),Wi=(t,e)=>t!==ge&&!t.__isScriptSetup&&fe(t,e),sg={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Wi(s,e))return o[e]=1,s[e];if(r!==ge&&fe(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&fe(u,e))return o[e]=3,i[e];if(n!==ge&&fe(n,e))return o[e]=4,n[e];Zo&&(o[e]=0)}}const c=Js[e];let d,f;if(c)return e==="$attrs"&&Ne(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==ge&&fe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,fe(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Wi(r,e)?(r[e]=n,!0):s!==ge&&fe(s,e)?(s[e]=n,!0):fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},a){let l,u;return!!(n[a]||t!==ge&&a[0]!=="$"&&fe(t,a)||Wi(e,a)||(l=i[0])&&fe(l,a)||fe(s,a)||fe(Js,a)||fe(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function kl(t){return X(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Zo=!0;function rg(t){const e=jd(t),n=t.proxy,s=t.ctx;Zo=!1,e.beforeCreate&&Pl(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:p,deactivated:v,beforeDestroy:E,beforeUnmount:w,destroyed:b,unmounted:y,render:$,renderTracked:A,renderTriggered:R,errorCaptured:L,serverPrefetch:N,expose:F,inheritAttrs:V,components:W,directives:B,filters:G}=e;if(u&&ig(u,s,null),o)for(const ne in o){const re=o[ne];te(re)&&(s[ne]=re.bind(n))}if(r){const ne=r.call(n,n);me(ne)&&(t.data=yr(ne))}if(Zo=!0,i)for(const ne in i){const re=i[ne],Ce=te(re)?re.bind(n,n):te(re.get)?re.get.bind(n,n):It,Pe=!te(re)&&te(re.set)?re.set.bind(n):It,Oe=Xe({get:Ce,set:Pe});Object.defineProperty(s,ne,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:ye=>Oe.value=ye})}if(a)for(const ne in a)Ld(a[ne],s,n,ne);if(l){const ne=te(l)?l.call(n):l;Reflect.ownKeys(ne).forEach(re=>{Wr(re,ne[re])})}c&&Pl(c,t,"c");function se(ne,re){X(re)?re.forEach(Ce=>ne(Ce.bind(n))):re&&ne(re.bind(n))}if(se(Wp,d),se(Nn,f),se(Kp,h),se(zp,g),se(Vp,p),se(Hp,v),se(Xp,L),se(Qp,A),se(Yp,R),se(Gp,w),se(Va,y),se(Jp,N),X(F))if(F.length){const ne=t.exposed||(t.exposed={});F.forEach(re=>{Object.defineProperty(ne,re,{get:()=>n[re],set:Ce=>n[re]=Ce,enumerable:!0})})}else t.exposed||(t.exposed={});$&&t.render===It&&(t.render=$),V!=null&&(t.inheritAttrs=V),W&&(t.components=W),B&&(t.directives=B),N&&$d(t)}function ig(t,e,n=It){X(t)&&(t=ea(t));for(const s in t){const r=t[s];let i;me(r)?"default"in r?i=gt(r.from||s,r.default,!0):i=gt(r.from||s):i=gt(r),Le(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Pl(t,e,n){$t(X(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ld(t,e,n,s){let r=s.includes(".")?Yd(n,s):()=>n[s];if(Te(t)){const i=e[t];te(i)&&Ys(r,i)}else if(te(t))Ys(r,t.bind(n));else if(me(t))if(X(t))t.forEach(i=>Ld(i,e,n,s));else{const i=te(t.handler)?t.handler.bind(n):e[t.handler];te(i)&&Ys(r,i,t)}}function jd(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>ri(l,u,o,!0)),ri(l,e,o)),me(e)&&i.set(e,l),l}function ri(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ri(t,i,n,!0),r&&r.forEach(o=>ri(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=og[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const og={data:xl,props:$l,emits:$l,methods:Fs,computed:Fs,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:Fs,directives:Fs,watch:lg,provide:xl,inject:ag};function xl(t,e){return e?t?function(){return je(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function ag(t,e){return Fs(ea(t),ea(e))}function ea(t){if(X(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Be(t,e){return t?[...new Set([].concat(t,e))]:e}function Fs(t,e){return t?je(Object.create(null),t,e):e}function $l(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:je(Object.create(null),kl(t),kl(e??{})):e}function lg(t,e){if(!t)return e;if(!e)return t;const n=je(Object.create(null),t);for(const s in e)n[s]=Be(t[s],e[s]);return n}function Md(){return{app:null,config:{isNativeTag:nd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cg=0;function ug(t,e){return function(s,r=null){te(s)||(s=je({},s)),r!=null&&!me(r)&&(r=null);const i=Md(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:cg++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Gg,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(u,...d)):te(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||Ie(s,r);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,c,f),l=!0,u._container=c,c.__vue_app__=u,Oi(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&($t(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=fs;fs=u;try{return c()}finally{fs=d}}};return u}}let fs=null;function Wr(t,e){if(De){let n=De.provides;const s=De.parent&&De.parent.provides;s===n&&(n=De.provides=Object.create(s)),n[t]=e}}function gt(t,e,n=!1){const s=Fg();if(s||fs){let r=fs?fs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(s&&s.proxy):e}}const Ud={},Bd=()=>Object.create(Ud),Fd=t=>Object.getPrototypeOf(t)===Ud;function dg(t,e,n,s=!1){const r={},i=Bd();t.propsDefaults=Object.create(null),Vd(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Ad(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function hg(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=he(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Ti(t.emitsOptions,f))continue;const h=e[f];if(l)if(fe(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const g=at(f);r[g]=ta(l,a,g,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{Vd(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!fe(e,d)&&((c=$n(d))===d||!fe(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=ta(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!fe(e,d))&&(delete i[d],u=!0)}u&&Ut(t.attrs,"set","")}function Vd(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Hs(l))continue;const u=e[l];let c;r&&fe(r,c=at(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ti(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=he(n),u=a||ge;for(let c=0;c<i.length;c++){const d=i[c];n[d]=ta(r,l,d,u[d],t,!fe(u,d))}}return o}function ta(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=fe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=Er(r);s=u[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===$n(n))&&(s=!0))}return s}const fg=new WeakMap;function Hd(t,e,n=!1){const s=n?fg:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!te(t)){const c=d=>{l=!0;const[f,h]=Hd(d,e,!0);je(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return me(t)&&s.set(t,cs),cs;if(X(i))for(let c=0;c<i.length;c++){const d=at(i[c]);Nl(d)&&(o[d]=ge)}else if(i)for(const c in i){const d=at(c);if(Nl(d)){const f=i[c],h=o[d]=X(f)||te(f)?{type:f}:je({},f),g=h.type;let p=!1,v=!0;if(X(g))for(let E=0;E<g.length;++E){const w=g[E],b=te(w)&&w.name;if(b==="Boolean"){p=!0;break}else b==="String"&&(v=!1)}else p=te(g)&&g.name==="Boolean";h[0]=p,h[1]=v,(p||fe(h,"default"))&&a.push(d)}}const u=[o,a];return me(t)&&s.set(t,u),u}function Nl(t){return t[0]!=="$"&&!Hs(t)}const Ha=t=>t==="_"||t==="_ctx"||t==="$stable",qa=t=>X(t)?t.map(Ct):[Ct(t)],pg=(t,e,n)=>{if(e._n)return e;const s=Ks((...r)=>qa(e(...r)),n);return s._c=!1,s},qd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ha(r))continue;const i=t[r];if(te(i))e[r]=pg(r,i,s);else if(i!=null){const o=qa(i);e[r]=()=>o}}},Wd=(t,e)=>{const n=qa(e);t.slots.default=()=>n},Kd=(t,e,n)=>{for(const s in e)(n||!Ha(s))&&(t[s]=e[s])},gg=(t,e,n)=>{const s=t.slots=Bd();if(t.vnode.shapeFlag&32){const r=e._;r?(Kd(s,e,n),n&&od(s,"_",r,!0)):qd(e,s)}else e&&Wd(t,e)},mg=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ge;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Kd(r,e,n):(i=!e.$stable,qd(e,r)),o=e}else e&&(Wd(t,e),o={default:1});if(i)for(const a in r)!Ha(a)&&o[a]==null&&delete r[a]},Ye=Pg;function _g(t){return vg(t)}function vg(t,e){const n=yi();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=It,insertStaticContent:g}=t,p=(m,_,S,I=null,k=null,O=null,H=void 0,U=null,D=!!_.dynamicChildren)=>{if(m===_)return;m&&!Ls(m,_)&&(I=C(m),ye(m,k,O,!0),m=null),_.patchFlag===-2&&(D=!1,_.dynamicChildren=null);const{type:x,ref:J,shapeFlag:q}=_;switch(x){case Ci:v(m,_,S,I);break;case un:E(m,_,S,I);break;case Kr:m==null&&w(_,S,I,H);break;case Tt:W(m,_,S,I,k,O,H,U,D);break;default:q&1?$(m,_,S,I,k,O,H,U,D):q&6?B(m,_,S,I,k,O,H,U,D):(q&64||q&128)&&x.process(m,_,S,I,k,O,H,U,D,K)}J!=null&&k?zs(J,m&&m.ref,O,_||m,!_):J==null&&m&&m.ref!=null&&zs(m.ref,null,O,m,!0)},v=(m,_,S,I)=>{if(m==null)s(_.el=a(_.children),S,I);else{const k=_.el=m.el;_.children!==m.children&&u(k,_.children)}},E=(m,_,S,I)=>{m==null?s(_.el=l(_.children||""),S,I):_.el=m.el},w=(m,_,S,I)=>{[m.el,m.anchor]=g(m.children,_,S,I,m.el,m.anchor)},b=({el:m,anchor:_},S,I)=>{let k;for(;m&&m!==_;)k=f(m),s(m,S,I),m=k;s(_,S,I)},y=({el:m,anchor:_})=>{let S;for(;m&&m!==_;)S=f(m),r(m),m=S;r(_)},$=(m,_,S,I,k,O,H,U,D)=>{_.type==="svg"?H="svg":_.type==="math"&&(H="mathml"),m==null?A(_,S,I,k,O,H,U,D):N(m,_,k,O,H,U,D)},A=(m,_,S,I,k,O,H,U)=>{let D,x;const{props:J,shapeFlag:q,transition:z,dirs:Z}=m;if(D=m.el=o(m.type,O,J&&J.is,J),q&8?c(D,m.children):q&16&&L(m.children,D,null,I,k,Ki(m,O),H,U),Z&&vn(m,null,I,"created"),R(D,m,m.scopeId,H,I),J){for(const pe in J)pe!=="value"&&!Hs(pe)&&i(D,pe,null,J[pe],O,I);"value"in J&&i(D,"value",null,J.value,O),(x=J.onVnodeBeforeMount)&&wt(x,I,m)}Z&&vn(m,null,I,"beforeMount");const ie=bg(k,z);ie&&z.beforeEnter(D),s(D,_,S),((x=J&&J.onVnodeMounted)||ie||Z)&&Ye(()=>{x&&wt(x,I,m),ie&&z.enter(D),Z&&vn(m,null,I,"mounted")},k)},R=(m,_,S,I,k)=>{if(S&&h(m,S),I)for(let O=0;O<I.length;O++)h(m,I[O]);if(k){let O=k.subTree;if(_===O||Xd(O.type)&&(O.ssContent===_||O.ssFallback===_)){const H=k.vnode;R(m,H,H.scopeId,H.slotScopeIds,k.parent)}}},L=(m,_,S,I,k,O,H,U,D=0)=>{for(let x=D;x<m.length;x++){const J=m[x]=U?nn(m[x]):Ct(m[x]);p(null,J,_,S,I,k,O,H,U)}},N=(m,_,S,I,k,O,H)=>{const U=_.el=m.el;let{patchFlag:D,dynamicChildren:x,dirs:J}=_;D|=m.patchFlag&16;const q=m.props||ge,z=_.props||ge;let Z;if(S&&bn(S,!1),(Z=z.onVnodeBeforeUpdate)&&wt(Z,S,_,m),J&&vn(_,m,S,"beforeUpdate"),S&&bn(S,!0),(q.innerHTML&&z.innerHTML==null||q.textContent&&z.textContent==null)&&c(U,""),x?F(m.dynamicChildren,x,U,S,I,Ki(_,k),O):H||re(m,_,U,null,S,I,Ki(_,k),O,!1),D>0){if(D&16)V(U,q,z,S,k);else if(D&2&&q.class!==z.class&&i(U,"class",null,z.class,k),D&4&&i(U,"style",q.style,z.style,k),D&8){const ie=_.dynamicProps;for(let pe=0;pe<ie.length;pe++){const le=ie[pe],qe=q[le],We=z[le];(We!==qe||le==="value")&&i(U,le,qe,We,k,S)}}D&1&&m.children!==_.children&&c(U,_.children)}else!H&&x==null&&V(U,q,z,S,k);((Z=z.onVnodeUpdated)||J)&&Ye(()=>{Z&&wt(Z,S,_,m),J&&vn(_,m,S,"updated")},I)},F=(m,_,S,I,k,O,H)=>{for(let U=0;U<_.length;U++){const D=m[U],x=_[U],J=D.el&&(D.type===Tt||!Ls(D,x)||D.shapeFlag&198)?d(D.el):S;p(D,x,J,null,I,k,O,H,!0)}},V=(m,_,S,I,k)=>{if(_!==S){if(_!==ge)for(const O in _)!Hs(O)&&!(O in S)&&i(m,O,_[O],null,k,I);for(const O in S){if(Hs(O))continue;const H=S[O],U=_[O];H!==U&&O!=="value"&&i(m,O,U,H,k,I)}"value"in S&&i(m,"value",_.value,S.value,k)}},W=(m,_,S,I,k,O,H,U,D)=>{const x=_.el=m?m.el:a(""),J=_.anchor=m?m.anchor:a("");let{patchFlag:q,dynamicChildren:z,slotScopeIds:Z}=_;Z&&(U=U?U.concat(Z):Z),m==null?(s(x,S,I),s(J,S,I),L(_.children||[],S,J,k,O,H,U,D)):q>0&&q&64&&z&&m.dynamicChildren?(F(m.dynamicChildren,z,S,k,O,H,U),(_.key!=null||k&&_===k.subTree)&&zd(m,_,!0)):re(m,_,S,J,k,O,H,U,D)},B=(m,_,S,I,k,O,H,U,D)=>{_.slotScopeIds=U,m==null?_.shapeFlag&512?k.ctx.activate(_,S,I,H,D):G(_,S,I,k,O,H,D):be(m,_,D)},G=(m,_,S,I,k,O,H)=>{const U=m.component=Bg(m,I,k);if(Nd(m)&&(U.ctx.renderer=K),Vg(U,!1,H),U.asyncDep){if(k&&k.registerDep(U,se,H),!m.el){const D=U.subTree=Ie(un);E(null,D,_,S),m.placeholder=D.el}}else se(U,m,_,S,k,O,H)},be=(m,_,S)=>{const I=_.component=m.component;if(Ig(m,_,S))if(I.asyncDep&&!I.asyncResolved){ne(I,_,S);return}else I.next=_,I.update();else _.el=m.el,I.vnode=_},se=(m,_,S,I,k,O,H)=>{const U=()=>{if(m.isMounted){let{next:q,bu:z,u:Z,parent:ie,vnode:pe}=m;{const bt=Gd(m);if(bt){q&&(q.el=pe.el,ne(m,q,H)),bt.asyncDep.then(()=>{m.isUnmounted||U()});return}}let le=q,qe;bn(m,!1),q?(q.el=pe.el,ne(m,q,H)):q=pe,z&&qr(z),(qe=q.props&&q.props.onVnodeBeforeUpdate)&&wt(qe,ie,q,pe),bn(m,!0);const We=Ll(m),vt=m.subTree;m.subTree=We,p(vt,We,d(vt.el),C(vt),m,k,O),q.el=We.el,le===null&&kg(m,We.el),Z&&Ye(Z,k),(qe=q.props&&q.props.onVnodeUpdated)&&Ye(()=>wt(qe,ie,q,pe),k)}else{let q;const{el:z,props:Z}=_,{bm:ie,m:pe,parent:le,root:qe,type:We}=m,vt=Gs(_);bn(m,!1),ie&&qr(ie),!vt&&(q=Z&&Z.onVnodeBeforeMount)&&wt(q,le,_),bn(m,!0);{qe.ce&&qe.ce._def.shadowRoot!==!1&&qe.ce._injectChildStyle(We);const bt=m.subTree=Ll(m);p(null,bt,S,I,m,k,O),_.el=bt.el}if(pe&&Ye(pe,k),!vt&&(q=Z&&Z.onVnodeMounted)){const bt=_;Ye(()=>wt(q,le,bt),k)}(_.shapeFlag&256||le&&Gs(le.vnode)&&le.vnode.shapeFlag&256)&&m.a&&Ye(m.a,k),m.isMounted=!0,_=S=I=null}};m.scope.on();const D=m.effect=new ud(U);m.scope.off();const x=m.update=D.run.bind(D),J=m.job=D.runIfDirty.bind(D);J.i=m,J.id=m.uid,D.scheduler=()=>Ba(J),bn(m,!0),x()},ne=(m,_,S)=>{_.component=m;const I=m.vnode.props;m.vnode=_,m.next=null,hg(m,_.props,I,S),mg(m,_.children,S),Wt(),Ol(m),Kt()},re=(m,_,S,I,k,O,H,U,D=!1)=>{const x=m&&m.children,J=m?m.shapeFlag:0,q=_.children,{patchFlag:z,shapeFlag:Z}=_;if(z>0){if(z&128){Pe(x,q,S,I,k,O,H,U,D);return}else if(z&256){Ce(x,q,S,I,k,O,H,U,D);return}}Z&8?(J&16&&Ee(x,k,O),q!==x&&c(S,q)):J&16?Z&16?Pe(x,q,S,I,k,O,H,U,D):Ee(x,k,O,!0):(J&8&&c(S,""),Z&16&&L(q,S,I,k,O,H,U,D))},Ce=(m,_,S,I,k,O,H,U,D)=>{m=m||cs,_=_||cs;const x=m.length,J=_.length,q=Math.min(x,J);let z;for(z=0;z<q;z++){const Z=_[z]=D?nn(_[z]):Ct(_[z]);p(m[z],Z,S,null,k,O,H,U,D)}x>J?Ee(m,k,O,!0,!1,q):L(_,S,I,k,O,H,U,D,q)},Pe=(m,_,S,I,k,O,H,U,D)=>{let x=0;const J=_.length;let q=m.length-1,z=J-1;for(;x<=q&&x<=z;){const Z=m[x],ie=_[x]=D?nn(_[x]):Ct(_[x]);if(Ls(Z,ie))p(Z,ie,S,null,k,O,H,U,D);else break;x++}for(;x<=q&&x<=z;){const Z=m[q],ie=_[z]=D?nn(_[z]):Ct(_[z]);if(Ls(Z,ie))p(Z,ie,S,null,k,O,H,U,D);else break;q--,z--}if(x>q){if(x<=z){const Z=z+1,ie=Z<J?_[Z].el:I;for(;x<=z;)p(null,_[x]=D?nn(_[x]):Ct(_[x]),S,ie,k,O,H,U,D),x++}}else if(x>z)for(;x<=q;)ye(m[x],k,O,!0),x++;else{const Z=x,ie=x,pe=new Map;for(x=ie;x<=z;x++){const Je=_[x]=D?nn(_[x]):Ct(_[x]);Je.key!=null&&pe.set(Je.key,x)}let le,qe=0;const We=z-ie+1;let vt=!1,bt=0;const Ns=new Array(We);for(x=0;x<We;x++)Ns[x]=0;for(x=Z;x<=q;x++){const Je=m[x];if(qe>=We){ye(Je,k,O,!0);continue}let yt;if(Je.key!=null)yt=pe.get(Je.key);else for(le=ie;le<=z;le++)if(Ns[le-ie]===0&&Ls(Je,_[le])){yt=le;break}yt===void 0?ye(Je,k,O,!0):(Ns[yt-ie]=x+1,yt>=bt?bt=yt:vt=!0,p(Je,_[yt],S,null,k,O,H,U,D),qe++)}const yl=vt?yg(Ns):cs;for(le=yl.length-1,x=We-1;x>=0;x--){const Je=ie+x,yt=_[Je],wl=_[Je+1],El=Je+1<J?wl.el||wl.placeholder:I;Ns[x]===0?p(null,yt,S,El,k,O,H,U,D):vt&&(le<0||x!==yl[le]?Oe(yt,S,El,2):le--)}}},Oe=(m,_,S,I,k=null)=>{const{el:O,type:H,transition:U,children:D,shapeFlag:x}=m;if(x&6){Oe(m.component.subTree,_,S,I);return}if(x&128){m.suspense.move(_,S,I);return}if(x&64){H.move(m,_,S,K);return}if(H===Tt){s(O,_,S);for(let q=0;q<D.length;q++)Oe(D[q],_,S,I);s(m.anchor,_,S);return}if(H===Kr){b(m,_,S);return}if(I!==2&&x&1&&U)if(I===0)U.beforeEnter(O),s(O,_,S),Ye(()=>U.enter(O),k);else{const{leave:q,delayLeave:z,afterLeave:Z}=U,ie=()=>{m.ctx.isUnmounted?r(O):s(O,_,S)},pe=()=>{O._isLeaving&&O[Fp](!0),q(O,()=>{ie(),Z&&Z()})};z?z(O,ie,pe):pe()}else s(O,_,S)},ye=(m,_,S,I=!1,k=!1)=>{const{type:O,props:H,ref:U,children:D,dynamicChildren:x,shapeFlag:J,patchFlag:q,dirs:z,cacheIndex:Z}=m;if(q===-2&&(k=!1),U!=null&&(Wt(),zs(U,null,S,m,!0),Kt()),Z!=null&&(_.renderCache[Z]=void 0),J&256){_.ctx.deactivate(m);return}const ie=J&1&&z,pe=!Gs(m);let le;if(pe&&(le=H&&H.onVnodeBeforeUnmount)&&wt(le,_,m),J&6)xe(m.component,S,I);else{if(J&128){m.suspense.unmount(S,I);return}ie&&vn(m,null,_,"beforeUnmount"),J&64?m.type.remove(m,_,S,K,I):x&&!x.hasOnce&&(O!==Tt||q>0&&q&64)?Ee(x,_,S,!1,!0):(O===Tt&&q&384||!k&&J&16)&&Ee(D,_,S),I&&Me(m)}(pe&&(le=H&&H.onVnodeUnmounted)||ie)&&Ye(()=>{le&&wt(le,_,m),ie&&vn(m,null,_,"unmounted")},S)},Me=m=>{const{type:_,el:S,anchor:I,transition:k}=m;if(_===Tt){Ue(S,I);return}if(_===Kr){y(m);return}const O=()=>{r(S),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(m.shapeFlag&1&&k&&!k.persisted){const{leave:H,delayLeave:U}=k,D=()=>H(S,O);U?U(m.el,O,D):D()}else O()},Ue=(m,_)=>{let S;for(;m!==_;)S=f(m),r(m),m=S;r(_)},xe=(m,_,S)=>{const{bum:I,scope:k,job:O,subTree:H,um:U,m:D,a:x}=m;Dl(D),Dl(x),I&&qr(I),k.stop(),O&&(O.flags|=8,ye(H,m,_,S)),U&&Ye(U,_),Ye(()=>{m.isUnmounted=!0},_)},Ee=(m,_,S,I=!1,k=!1,O=0)=>{for(let H=O;H<m.length;H++)ye(m[H],_,S,I,k)},C=m=>{if(m.shapeFlag&6)return C(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const _=f(m.anchor||m.el),S=_&&_[Up];return S?f(S):_};let j=!1;const M=(m,_,S)=>{m==null?_._vnode&&ye(_._vnode,null,null,!0):p(_._vnode||null,m,_,null,null,null,S),_._vnode=m,j||(j=!0,Ol(),Id(),j=!1)},K={p,um:ye,m:Oe,r:Me,mt:G,mc:L,pc:re,pbc:F,n:C,o:t};return{render:M,hydrate:void 0,createApp:ug(M)}}function Ki({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function bn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function bg(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zd(t,e,n=!1){const s=t.children,r=e.children;if(X(s)&&X(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=nn(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&zd(o,a)),a.type===Ci&&a.patchFlag!==-1&&(a.el=o.el),a.type===un&&!a.el&&(a.el=o.el)}}function yg(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Gd(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gd(e)}function Dl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const wg=Symbol.for("v-scx"),Eg=()=>gt(wg);function Ys(t,e,n){return Jd(t,e,n)}function Jd(t,e,n=ge){const{immediate:s,deep:r,flush:i,once:o}=n,a=je({},n),l=e&&s||!e&&i!=="post";let u;if(ur){if(i==="sync"){const h=Eg();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=It,h.resume=It,h.pause=It,h}}const c=De;a.call=(h,g,p)=>$t(h,c,g,p);let d=!1;i==="post"?a.scheduler=h=>{Ye(h,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():Ba(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Dp(t,e,a);return ur&&(u?u.push(f):l&&f()),f}function Sg(t,e,n){const s=this.proxy,r=Te(t)?t.includes(".")?Yd(s,t):()=>s[t]:t.bind(s,s);let i;te(e)?i=e:(i=e.handler,n=e);const o=Er(this),a=Jd(r,i.bind(s),n);return o(),a}function Yd(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Ag=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${at(e)}Modifiers`]||t[`${$n(e)}Modifiers`];function Tg(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ge;let r=n;const i=e.startsWith("update:"),o=i&&Ag(s,e.slice(7));o&&(o.trim&&(r=n.map(c=>Te(c)?c.trim():c)),o.number&&(r=n.map(Xr)));let a,l=s[a=Bi(e)]||s[a=Bi(at(e))];!l&&i&&(l=s[a=Bi($n(e))]),l&&$t(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$t(u,t,6,r)}}const Cg=new WeakMap;function Qd(t,e,n=!1){const s=n?Cg:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!te(t)){const l=u=>{const c=Qd(u,e,!0);c&&(a=!0,je(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(me(t)&&s.set(t,null),null):(X(i)?i.forEach(l=>o[l]=null):je(o,i),me(t)&&s.set(t,o),o)}function Ti(t,e){return!t||!_i(e)?!1:(e=e.slice(2).replace(/Once$/,""),fe(t,e[0].toLowerCase()+e.slice(1))||fe(t,$n(e))||fe(t,e))}function Ll(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:g,inheritAttrs:p}=t,v=ni(t);let E,w;try{if(n.shapeFlag&4){const y=r||s,$=y;E=Ct(u.call($,y,c,d,h,f,g)),w=a}else{const y=e;E=Ct(y.length>1?y(d,{attrs:a,slots:o,emit:l}):y(d,null)),w=e.props?a:Og(a)}}catch(y){Qs.length=0,Ei(y,t,1),E=Ie(un)}let b=E;if(w&&p!==!1){const y=Object.keys(w),{shapeFlag:$}=b;y.length&&$&7&&(i&&y.some(Oa)&&(w=Rg(w,i)),b=gs(b,w,!1,!0))}return n.dirs&&(b=gs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Fa(b,n.transition),E=b,ni(v),E}const Og=t=>{let e;for(const n in t)(n==="class"||n==="style"||_i(n))&&((e||(e={}))[n]=t[n]);return e},Rg=(t,e)=>{const n={};for(const s in t)(!Oa(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ig(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?jl(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==s[f]&&!Ti(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?jl(s,o,u):!0:!!o;return!1}function jl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ti(n,i))return!0}return!1}function kg({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xd=t=>t.__isSuspense;function Pg(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):Mp(t)}const Tt=Symbol.for("v-fgt"),Ci=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),Kr=Symbol.for("v-stc"),Qs=[];let et=null;function oe(t=!1){Qs.push(et=t?null:[])}function xg(){Qs.pop(),et=Qs[Qs.length-1]||null}let cr=1;function ii(t,e=!1){cr+=t,t<0&&et&&e&&(et.hasOnce=!0)}function Zd(t){return t.dynamicChildren=cr>0?et||cs:null,xg(),cr>0&&et&&et.push(t),t}function ae(t,e,n,s,r,i){return Zd(T(t,e,n,s,r,i,!0))}function $g(t,e,n,s,r){return Zd(Ie(t,e,n,s,r,!0))}function oi(t){return t?t.__v_isVNode===!0:!1}function Ls(t,e){return t.type===e.type&&t.key===e.key}const eh=({key:t})=>t??null,zr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Te(t)||Le(t)||te(t)?{i:Ze,r:t,k:e,f:!!n}:t:null);function T(t,e=null,n=null,s=0,r=null,i=t===Tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&eh(e),ref:e&&zr(e),scopeId:Pd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return a?(Wa(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Te(n)?8:16),cr>0&&!o&&et&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&et.push(l),l}const Ie=Ng;function Ng(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===eg)&&(t=un),oi(t)){const a=gs(t,e,!0);return n&&Wa(a,n),cr>0&&!i&&et&&(a.shapeFlag&6?et[et.indexOf(t)]=a:et.push(a)),a.patchFlag=-2,a}if(zg(t)&&(t=t.__vccOpts),e){e=Dg(e);let{class:a,style:l}=e;a&&!Te(a)&&(e.class=Pa(a)),me(l)&&(Ua(l)&&!X(l)&&(l=je({},l)),e.style=ka(l))}const o=Te(t)?1:Xd(t)?128:Bp(t)?64:me(t)?4:te(t)?2:0;return T(t,e,n,s,r,o,i,!0)}function Dg(t){return t?Ua(t)||Fd(t)?je({},t):t:null}function gs(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?jg(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&eh(u),ref:e&&e.ref?n&&i?X(i)?i.concat(zr(e)):[i,zr(e)]:zr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gs(t.ssContent),ssFallback:t.ssFallback&&gs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Fa(c,l.clone(c)),c}function Ot(t=" ",e=0){return Ie(Ci,null,t,e)}function Lg(t,e){const n=Ie(Kr,null,t);return n.staticCount=e,n}function Rt(t="",e=!1){return e?(oe(),$g(un,null,t)):Ie(un,null,t)}function Ct(t){return t==null||typeof t=="boolean"?Ie(un):X(t)?Ie(Tt,null,t.slice()):oi(t)?nn(t):Ie(Ci,null,String(t))}function nn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gs(t)}function Wa(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(X(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Wa(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Fd(e)?e._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:Ze},n=32):(e=String(e),s&64?(n=16,e=[Ot(e)]):n=8);t.children=e,t.shapeFlag|=n}function jg(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Pa([e.class,s.class]));else if(r==="style")e.style=ka([e.style,s.style]);else if(_i(r)){const i=e[r],o=s[r];o&&i!==o&&!(X(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function wt(t,e,n,s=null){$t(t,e,7,[n,s])}const Mg=Md();let Ug=0;function Bg(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Mg,i={uid:Ug++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hd(s,r),emitsOptions:Qd(s,r),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:s.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Tg.bind(null,i),t.ce&&t.ce(i),i}let De=null;const Fg=()=>De||Ze;let ai,na;{const t=yi(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};ai=e("__VUE_INSTANCE_SETTERS__",n=>De=n),na=e("__VUE_SSR_SETTERS__",n=>ur=n)}const Er=t=>{const e=De;return ai(t),t.scope.on(),()=>{t.scope.off(),ai(e)}},Ml=()=>{De&&De.scope.off(),ai(null)};function th(t){return t.vnode.shapeFlag&4}let ur=!1;function Vg(t,e=!1,n=!1){e&&na(e);const{props:s,children:r}=t.vnode,i=th(t);dg(t,s,i,e),gg(t,r,n||e);const o=i?Hg(t,e):void 0;return e&&na(!1),o}function Hg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sg);const{setup:s}=n;if(s){Wt();const r=t.setupContext=s.length>1?Wg(t):null,i=Er(t),o=wr(s,t,0,[t.props,r]),a=sd(o);if(Kt(),i(),(a||t.sp)&&!Gs(t)&&$d(t),a){if(o.then(Ml,Ml),e)return o.then(l=>{Ul(t,l)}).catch(l=>{Ei(l,t,0)});t.asyncDep=o}else Ul(t,o)}else nh(t)}function Ul(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:me(e)&&(t.setupState=Cd(e)),nh(t)}function nh(t,e,n){const s=t.type;t.render||(t.render=s.render||It);{const r=Er(t);Wt();try{rg(t)}finally{Kt(),r()}}}const qg={get(t,e){return Ne(t,"get",""),t[e]}};function Wg(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,qg),slots:t.slots,emit:t.emit,expose:e}}function Oi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Cd(Rp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Js)return Js[n](t)},has(e,n){return n in e||n in Js}})):t.proxy}function Kg(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function zg(t){return te(t)&&"__vccOpts"in t}const Xe=(t,e)=>$p(t,e,ur);function sh(t,e,n){try{ii(-1);const s=arguments.length;return s===2?me(e)&&!X(e)?oi(e)?Ie(t,null,[e]):Ie(t,e):Ie(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&oi(n)&&(n=[n]),Ie(t,e,n))}finally{ii(1)}}const Gg="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sa;const Bl=typeof window<"u"&&window.trustedTypes;if(Bl)try{sa=Bl.createPolicy("vue",{createHTML:t=>t})}catch{}const rh=sa?t=>sa.createHTML(t):t=>t,Jg="http://www.w3.org/2000/svg",Yg="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,Fl=jt&&jt.createElement("template"),Qg={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?jt.createElementNS(Jg,t):e==="mathml"?jt.createElementNS(Yg,t):n?jt.createElement(t,{is:n}):jt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>jt.createTextNode(t),createComment:t=>jt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Fl.innerHTML=rh(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Fl.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xg=Symbol("_vtc");function Zg(t,e,n){const s=t[Xg];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Vl=Symbol("_vod"),em=Symbol("_vsh"),tm=Symbol(""),nm=/(?:^|;)\s*display\s*:/;function sm(t,e,n){const s=t.style,r=Te(n);let i=!1;if(n&&!r){if(e)if(Te(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Gr(s,a,"")}else for(const o in e)n[o]==null&&Gr(s,o,"");for(const o in n)o==="display"&&(i=!0),Gr(s,o,n[o])}else if(r){if(e!==n){const o=s[tm];o&&(n+=";"+o),s.cssText=n,i=nm.test(n)}}else e&&t.removeAttribute("style");Vl in t&&(t[Vl]=i?s.display:"",t[em]&&(s.display="none"))}const Hl=/\s*!important$/;function Gr(t,e,n){if(X(n))n.forEach(s=>Gr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=rm(t,e);Hl.test(n)?t.setProperty($n(s),n.replace(Hl,""),"important"):t[s]=n}}const ql=["Webkit","Moz","ms"],zi={};function rm(t,e){const n=zi[e];if(n)return n;let s=at(e);if(s!=="filter"&&s in t)return zi[e]=s;s=bi(s);for(let r=0;r<ql.length;r++){const i=ql[r]+s;if(i in t)return zi[e]=i}return e}const Wl="http://www.w3.org/1999/xlink";function Kl(t,e,n,s,r,i=op(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Wl,e.slice(6,e.length)):t.setAttributeNS(Wl,e,n):n==null||i&&!ad(n)?t.removeAttribute(e):t.setAttribute(e,i?"":xt(n)?String(n):n)}function zl(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?rh(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ad(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function rn(t,e,n,s){t.addEventListener(e,n,s)}function im(t,e,n,s){t.removeEventListener(e,n,s)}const Gl=Symbol("_vei");function om(t,e,n,s,r=null){const i=t[Gl]||(t[Gl]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=am(e);if(s){const u=i[e]=um(s,r);rn(t,a,u,l)}else o&&(im(t,a,o,l),i[e]=void 0)}}const Jl=/(?:Once|Passive|Capture)$/;function am(t){let e;if(Jl.test(t)){e={};let s;for(;s=t.match(Jl);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$n(t.slice(2)),e]}let Gi=0;const lm=Promise.resolve(),cm=()=>Gi||(lm.then(()=>Gi=0),Gi=Date.now());function um(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$t(dm(s,n.value),e,5,[s])};return n.value=t,n.attached=cm(),n}function dm(t,e){if(X(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Yl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hm=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Zg(t,s,o):e==="style"?sm(t,n,s):_i(e)?Oa(e)||om(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fm(t,e,s,o))?(zl(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Kl(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Te(s))?zl(t,at(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Kl(t,e,s,o))};function fm(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Yl(e)&&te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Yl(e)&&Te(n)?!1:e in t}const ms=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?n=>qr(e,n):e};function pm(t){t.target.composing=!0}function Ql(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vt=Symbol("_assign"),on={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Vt]=ms(r);const i=s||r.props&&r.props.type==="number";rn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Xr(a)),t[Vt](a)}),n&&rn(t,"change",()=>{t.value=t.value.trim()}),e||(rn(t,"compositionstart",pm),rn(t,"compositionend",Ql),rn(t,"change",Ql))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Vt]=ms(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},gm={deep:!0,created(t,e,n){t[Vt]=ms(n),rn(t,"change",()=>{const s=t._modelValue,r=dr(t),i=t.checked,o=t[Vt];if(X(s)){const a=xa(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const u=[...s];u.splice(a,1),o(u)}}else if(Os(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(ih(t,i))})},mounted:Xl,beforeUpdate(t,e,n){t[Vt]=ms(n),Xl(t,e,n)}};function Xl(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(X(e))r=xa(e,s.props.value)>-1;else if(Os(e))r=e.has(s.props.value);else{if(e===n)return;r=br(e,ih(t,!0))}t.checked!==r&&(t.checked=r)}const Zl={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Os(e);rn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xr(dr(o)):dr(o));t[Vt](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Si(()=>{t._assigning=!1})}),t[Vt]=ms(s)},mounted(t,{value:e}){ec(t,e)},beforeUpdate(t,e,n){t[Vt]=ms(n)},updated(t,{value:e}){t._assigning||ec(t,e)}};function ec(t,e){const n=t.multiple,s=X(e);if(!(n&&!s&&!Os(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=dr(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=xa(e,a)>-1}else o.selected=e.has(a);else if(br(dr(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function dr(t){return"_value"in t?t._value:t.value}function ih(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const mm=["ctrl","shift","alt","meta"],_m={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mm.some(n=>t[`${n}Key`]&&!e.includes(n))},Ka=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const a=_m[e[o]];if(a&&a(r,e))return}return t(r,...i)}))},vm=je({patchProp:hm},Qg);let tc;function bm(){return tc||(tc=_g(vm))}const ym=((...t)=>{const e=bm().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Em(s);if(!r)return;const i=e._component;!te(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,wm(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function wm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Em(t){return Te(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ns=typeof document<"u";function oh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&oh(t.default)}const de=Object.assign;function Ji(t,e){const n={};for(const s in e){const r=e[s];n[s]=mt(r)?r.map(t):t(r)}return n}const Xs=()=>{},mt=Array.isArray,ah=/#/g,Am=/&/g,Tm=/\//g,Cm=/=/g,Om=/\?/g,lh=/\+/g,Rm=/%5B/g,Im=/%5D/g,ch=/%5E/g,km=/%60/g,uh=/%7B/g,Pm=/%7C/g,dh=/%7D/g,xm=/%20/g;function za(t){return encodeURI(""+t).replace(Pm,"|").replace(Rm,"[").replace(Im,"]")}function $m(t){return za(t).replace(uh,"{").replace(dh,"}").replace(ch,"^")}function ra(t){return za(t).replace(lh,"%2B").replace(xm,"+").replace(ah,"%23").replace(Am,"%26").replace(km,"`").replace(uh,"{").replace(dh,"}").replace(ch,"^")}function Nm(t){return ra(t).replace(Cm,"%3D")}function Dm(t){return za(t).replace(ah,"%23").replace(Om,"%3F")}function Lm(t){return t==null?"":Dm(t).replace(Tm,"%2F")}function hr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const jm=/\/$/,Mm=t=>t.replace(jm,"");function Yi(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=Vm(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:hr(o)}}function Um(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function nc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Bm(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&_s(e.matched[s],n.matched[r])&&hh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function _s(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Fm(t[n],e[n]))return!1;return!0}function Fm(t,e){return mt(t)?sc(t,e):mt(e)?sc(e,t):t===e}function sc(t,e){return mt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Vm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var fr;(function(t){t.pop="pop",t.push="push"})(fr||(fr={}));var Zs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zs||(Zs={}));function Hm(t){if(!t)if(ns){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Mm(t)}const qm=/^[^#]+#/;function Wm(t,e){return t.replace(qm,"#")+e}function Km(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ri=()=>({left:window.scrollX,top:window.scrollY});function zm(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Km(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rc(t,e){return(history.state?history.state.position-e:-1)+t}const ia=new Map;function Gm(t,e){ia.set(t,e)}function Jm(t){const e=ia.get(t);return ia.delete(t),e}let Ym=()=>location.protocol+"//"+location.host;function fh(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),nc(l,"")}return nc(n,t)+s+r}function Qm(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const h=fh(t,location),g=n.value,p=e.value;let v=0;if(f){if(n.value=h,e.value=f,o&&o===g){o=null;return}v=p?f.position-p.position:0}else s(h);r.forEach(E=>{E(n.value,g,{delta:v,type:fr.pop,direction:v?v>0?Zs.forward:Zs.back:Zs.unknown})})};function l(){o=n.value}function u(f){r.push(f);const h=()=>{const g=r.indexOf(f);g>-1&&r.splice(g,1)};return i.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(de({},f.state,{scroll:Ri()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ic(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ri():null}}function Xm(t){const{history:e,location:n}=window,s={value:fh(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Ym()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=de({},e.state,ic(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),s.value=l}function a(l,u){const c=de({},r.value,e.state,{forward:l,scroll:Ri()});i(c.current,c,!0);const d=de({},ic(s.value,l,null),{position:c.position+1},u);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Zm(t){t=Hm(t);const e=Xm(t),n=Qm(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=de({location:"",base:t,go:s,createHref:Wm.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function e_(t){return typeof t=="string"||t&&typeof t=="object"}function ph(t){return typeof t=="string"||typeof t=="symbol"}const gh=Symbol("");var oc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(oc||(oc={}));function vs(t,e){return de(new Error,{type:t,[gh]:!0},e)}function Lt(t,e){return t instanceof Error&&gh in t&&(e==null||!!(t.type&e))}const ac="[^/]+?",t_={sensitive:!1,strict:!1,start:!0,end:!0},n_=/[.+*?^${}()[\]/\\]/g;function s_(t,e){const n=de({},t_,e),s=[];let r=n.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(n_,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:p,optional:v,regexp:E}=f;i.push({name:g,repeatable:p,optional:v});const w=E||ac;if(w!==ac){h+=10;try{new RegExp(`(${w})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${w}): `+y.message)}}let b=p?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(b=v&&u.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),r+=b,h+=20,v&&(h+=-8),p&&(h+=-20),w===".*"&&(h+=-50)}c.push(h)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",g=i[f-1];d[g.name]=h&&g.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:g,repeatable:p,optional:v}=h,E=g in u?u[g]:"";if(mt(E)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const w=mt(E)?E.join("/"):E;if(!w)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=w}}return c||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function r_(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mh(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=r_(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(lc(s))return 1;if(lc(r))return-1}return r.length-s.length}function lc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const i_={type:0,value:""},o_=/[a-zA-Z0-9_]/;function a_(t){if(!t)return[[]];if(t==="/")return[[i_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:o_.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function l_(t,e,n){const s=s_(a_(t.path),n),r=de(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function c_(t,e){const n=[],s=new Map;e=hc({strict:!1,end:!0,sensitive:!1},e);function r(d){return s.get(d)}function i(d,f,h){const g=!h,p=uc(d);p.aliasOf=h&&h.record;const v=hc(e,d),E=[p];if("alias"in d){const y=typeof d.alias=="string"?[d.alias]:d.alias;for(const $ of y)E.push(uc(de({},p,{components:h?h.record.components:p.components,path:$,aliasOf:h?h.record:p})))}let w,b;for(const y of E){const{path:$}=y;if(f&&$[0]!=="/"){const A=f.record.path,R=A[A.length-1]==="/"?"":"/";y.path=f.record.path+($&&R+$)}if(w=l_(y,f,v),h?h.alias.push(w):(b=b||w,b!==w&&b.alias.push(w),g&&d.name&&!dc(w)&&o(d.name)),_h(w)&&l(w),p.children){const A=p.children;for(let R=0;R<A.length;R++)i(A[R],w,h&&h.children[R])}h=h||w}return b?()=>{o(b)}:Xs}function o(d){if(ph(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=h_(d,n);n.splice(f,0,d),d.record.name&&!dc(d)&&s.set(d.record.name,d)}function u(d,f){let h,g={},p,v;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw vs(1,{location:d});v=h.record.name,g=de(cc(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&cc(d.params,h.keys.map(b=>b.name))),p=h.stringify(g)}else if(d.path!=null)p=d.path,h=n.find(b=>b.re.test(p)),h&&(g=h.parse(p),v=h.record.name);else{if(h=f.name?s.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw vs(1,{location:d,currentLocation:f});v=h.record.name,g=de({},f.params,d.params),p=h.stringify(g)}const E=[];let w=h;for(;w;)E.unshift(w.record),w=w.parent;return{name:v,path:p,params:g,matched:E,meta:d_(E)}}t.forEach(d=>i(d));function c(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function cc(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function uc(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:u_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function u_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function dc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function d_(t){return t.reduce((e,n)=>de(e,n.meta),{})}function hc(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function h_(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;mh(t,e[i])<0?s=i:n=i+1}const r=f_(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function f_(t){let e=t;for(;e=e.parent;)if(_h(e)&&mh(t,e)===0)return e}function _h({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function p_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(lh," "),o=i.indexOf("="),a=hr(o<0?i:i.slice(0,o)),l=o<0?null:hr(i.slice(o+1));if(a in e){let u=e[a];mt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function fc(t){let e="";for(let n in t){const s=t[n];if(n=Nm(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(mt(s)?s.map(i=>i&&ra(i)):[s&&ra(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function g_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=mt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const m_=Symbol(""),pc=Symbol(""),Ii=Symbol(""),Ga=Symbol(""),oa=Symbol("");function js(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(vs(4,{from:n,to:e})):f instanceof Error?l(f):e_(f)?l(vs(2,{from:e,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(s&&s.instances[r],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Qi(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(oh(l)){const c=(l.__vccOpts||l)[e];c&&i.push(sn(c,n,s,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Sm(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&sn(h,n,s,o,a,r)()}))}}return i}function gc(t){const e=gt(Ii),n=gt(Ga),s=Xe(()=>{const l=it(t.to);return e.resolve(l)}),r=Xe(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(_s.bind(null,c));if(f>-1)return f;const h=mc(l[u-2]);return u>1&&mc(c)===h&&d[d.length-1].path!==h?d.findIndex(_s.bind(null,l[u-2])):f}),i=Xe(()=>r.value>-1&&w_(n.params,s.value.params)),o=Xe(()=>r.value>-1&&r.value===n.matched.length-1&&hh(n.params,s.value.params));function a(l={}){if(y_(l)){const u=e[it(t.replace)?"replace":"push"](it(t.to)).catch(Xs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:Xe(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function __(t){return t.length===1?t[0]:t}const v_=xd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gc,setup(t,{slots:e}){const n=yr(gc(t)),{options:s}=gt(Ii),r=Xe(()=>({[_c(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[_c(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&__(e.default(n));return t.custom?i:sh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),b_=v_;function y_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function w_(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!mt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function mc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _c=(t,e,n)=>t??e??n,E_=xd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=gt(oa),r=Xe(()=>t.route||s.value),i=gt(pc,0),o=Xe(()=>{let u=it(i);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Xe(()=>r.value.matched[o.value]);Wr(pc,Xe(()=>o.value+1)),Wr(m_,a),Wr(oa,r);const l=ue();return Ys(()=>[l.value,a.value,t.name],([u,c,d],[f,h,g])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!_s(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return vc(n.default,{Component:f,route:u});const h=d.props[c],g=h?h===!0?u.params:typeof h=="function"?h(u):h:null,v=sh(f,de({},g,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return vc(n.default,{Component:v,route:u})||v}}});function vc(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const S_=E_;function A_(t){const e=c_(t.routes,t),n=t.parseQuery||p_,s=t.stringifyQuery||fc,r=t.history,i=js(),o=js(),a=js(),l=Ip(Yt);let u=Yt;ns&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ji.bind(null,C=>""+C),d=Ji.bind(null,Lm),f=Ji.bind(null,hr);function h(C,j){let M,K;return ph(C)?(M=e.getRecordMatcher(C),K=j):K=C,e.addRoute(K,M)}function g(C){const j=e.getRecordMatcher(C);j&&e.removeRoute(j)}function p(){return e.getRoutes().map(C=>C.record)}function v(C){return!!e.getRecordMatcher(C)}function E(C,j){if(j=de({},j||l.value),typeof C=="string"){const S=Yi(n,C,j.path),I=e.resolve({path:S.path},j),k=r.createHref(S.fullPath);return de(S,I,{params:f(I.params),hash:hr(S.hash),redirectedFrom:void 0,href:k})}let M;if(C.path!=null)M=de({},C,{path:Yi(n,C.path,j.path).path});else{const S=de({},C.params);for(const I in S)S[I]==null&&delete S[I];M=de({},C,{params:d(S)}),j.params=d(j.params)}const K=e.resolve(M,j),ce=C.hash||"";K.params=c(f(K.params));const m=Um(s,de({},C,{hash:$m(ce),path:K.path})),_=r.createHref(m);return de({fullPath:m,hash:ce,query:s===fc?g_(C.query):C.query||{}},K,{redirectedFrom:void 0,href:_})}function w(C){return typeof C=="string"?Yi(n,C,l.value.path):de({},C)}function b(C,j){if(u!==C)return vs(8,{from:j,to:C})}function y(C){return R(C)}function $(C){return y(de(w(C),{replace:!0}))}function A(C){const j=C.matched[C.matched.length-1];if(j&&j.redirect){const{redirect:M}=j;let K=typeof M=="function"?M(C):M;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=w(K):{path:K},K.params={}),de({query:C.query,hash:C.hash,params:K.path!=null?{}:C.params},K)}}function R(C,j){const M=u=E(C),K=l.value,ce=C.state,m=C.force,_=C.replace===!0,S=A(M);if(S)return R(de(w(S),{state:typeof S=="object"?de({},ce,S.state):ce,force:m,replace:_}),j||M);const I=M;I.redirectedFrom=j;let k;return!m&&Bm(s,K,M)&&(k=vs(16,{to:I,from:K}),Oe(K,K,!0,!1)),(k?Promise.resolve(k):F(I,K)).catch(O=>Lt(O)?Lt(O,2)?O:Pe(O):re(O,I,K)).then(O=>{if(O){if(Lt(O,2))return R(de({replace:_},w(O.to),{state:typeof O.to=="object"?de({},ce,O.to.state):ce,force:m}),j||I)}else O=W(I,K,!0,_,ce);return V(I,K,O),O})}function L(C,j){const M=b(C,j);return M?Promise.reject(M):Promise.resolve()}function N(C){const j=Ue.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(C):C()}function F(C,j){let M;const[K,ce,m]=T_(C,j);M=Qi(K.reverse(),"beforeRouteLeave",C,j);for(const S of K)S.leaveGuards.forEach(I=>{M.push(sn(I,C,j))});const _=L.bind(null,C,j);return M.push(_),Ee(M).then(()=>{M=[];for(const S of i.list())M.push(sn(S,C,j));return M.push(_),Ee(M)}).then(()=>{M=Qi(ce,"beforeRouteUpdate",C,j);for(const S of ce)S.updateGuards.forEach(I=>{M.push(sn(I,C,j))});return M.push(_),Ee(M)}).then(()=>{M=[];for(const S of m)if(S.beforeEnter)if(mt(S.beforeEnter))for(const I of S.beforeEnter)M.push(sn(I,C,j));else M.push(sn(S.beforeEnter,C,j));return M.push(_),Ee(M)}).then(()=>(C.matched.forEach(S=>S.enterCallbacks={}),M=Qi(m,"beforeRouteEnter",C,j,N),M.push(_),Ee(M))).then(()=>{M=[];for(const S of o.list())M.push(sn(S,C,j));return M.push(_),Ee(M)}).catch(S=>Lt(S,8)?S:Promise.reject(S))}function V(C,j,M){a.list().forEach(K=>N(()=>K(C,j,M)))}function W(C,j,M,K,ce){const m=b(C,j);if(m)return m;const _=j===Yt,S=ns?history.state:{};M&&(K||_?r.replace(C.fullPath,de({scroll:_&&S&&S.scroll},ce)):r.push(C.fullPath,ce)),l.value=C,Oe(C,j,M,_),Pe()}let B;function G(){B||(B=r.listen((C,j,M)=>{if(!xe.listening)return;const K=E(C),ce=A(K);if(ce){R(de(ce,{replace:!0,force:!0}),K).catch(Xs);return}u=K;const m=l.value;ns&&Gm(rc(m.fullPath,M.delta),Ri()),F(K,m).catch(_=>Lt(_,12)?_:Lt(_,2)?(R(de(w(_.to),{force:!0}),K).then(S=>{Lt(S,20)&&!M.delta&&M.type===fr.pop&&r.go(-1,!1)}).catch(Xs),Promise.reject()):(M.delta&&r.go(-M.delta,!1),re(_,K,m))).then(_=>{_=_||W(K,m,!1),_&&(M.delta&&!Lt(_,8)?r.go(-M.delta,!1):M.type===fr.pop&&Lt(_,20)&&r.go(-1,!1)),V(K,m,_)}).catch(Xs)}))}let be=js(),se=js(),ne;function re(C,j,M){Pe(C);const K=se.list();return K.length?K.forEach(ce=>ce(C,j,M)):console.error(C),Promise.reject(C)}function Ce(){return ne&&l.value!==Yt?Promise.resolve():new Promise((C,j)=>{be.add([C,j])})}function Pe(C){return ne||(ne=!C,G(),be.list().forEach(([j,M])=>C?M(C):j()),be.reset()),C}function Oe(C,j,M,K){const{scrollBehavior:ce}=t;if(!ns||!ce)return Promise.resolve();const m=!M&&Jm(rc(C.fullPath,0))||(K||!M)&&history.state&&history.state.scroll||null;return Si().then(()=>ce(C,j,m)).then(_=>_&&zm(_)).catch(_=>re(_,C,j))}const ye=C=>r.go(C);let Me;const Ue=new Set,xe={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:p,resolve:E,options:t,push:y,replace:$,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:Ce,install(C){const j=this;C.component("RouterLink",b_),C.component("RouterView",S_),C.config.globalProperties.$router=j,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>it(l)}),ns&&!Me&&l.value===Yt&&(Me=!0,y(r.location).catch(ce=>{}));const M={};for(const ce in Yt)Object.defineProperty(M,ce,{get:()=>l.value[ce],enumerable:!0});C.provide(Ii,j),C.provide(Ga,Ad(M)),C.provide(oa,l);const K=C.unmount;Ue.add(C),C.unmount=function(){Ue.delete(C),Ue.size<1&&(u=Yt,B&&B(),B=null,l.value=Yt,Me=!1,ne=!1),K()}}};function Ee(C){return C.reduce((j,M)=>j.then(()=>N(M)),Promise.resolve())}return xe}function T_(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>_s(u,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>_s(u,l))||r.push(l))}return[n,s,r]}function Ja(){return gt(Ii)}function C_(t){return gt(Ga)}const O_="modulepreload",R_=function(t){return"/sre/"+t},bc={},Rs=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=u(n.map(c=>{if(c=R_(c),c in bc)return;bc[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":O_,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,p)=>{h.addEventListener("load",g),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},I_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rs(async()=>{const{default:s}=await Promise.resolve().then(()=>Is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Ya extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class yc extends Ya{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wc extends Ya{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ec extends Ya{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(aa||(aa={}));var k_=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class P_{constructor(e,{headers:n={},customFetch:s,region:r=aa.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=I_(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return k_(this,arguments,void 0,function*(n,s={}){var r;try{const{headers:i,method:o,body:a,signal:l}=s;let u={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(E=>{throw E.name==="AbortError"?E:new yc(E)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new wc(h);if(!h.ok)throw new Ec(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new yc(i)}:{data:null,error:i,response:i instanceof Ec||i instanceof wc?i.context:void 0}}})}}function vh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var ke={},Fn={},Vn={},Hn={},qn={},Wn={},$_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=$_();const N_=bs.fetch,bh=bs.fetch.bind(bs),yh=bs.Headers,D_=bs.Request,L_=bs.Response,Is=Object.freeze(Object.defineProperty({__proto__:null,Headers:yh,Request:D_,Response:L_,default:bh,fetch:N_},Symbol.toStringTag,{value:"Module"})),j_=x_(Is);var xr={},Sc;function wh(){if(Sc)return xr;Sc=1,Object.defineProperty(xr,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return xr.default=t,xr}var Ac;function Eh(){if(Ac)return Wn;Ac=1;var t=Wn&&Wn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wn,"__esModule",{value:!0});const e=t(j_),n=t(wh());class s{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let g=null,p=null,v=null,E=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?p=A:p=JSON.parse(A))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),$=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&$&&$.length>1&&(v=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,E=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const y=await u.text();try{g=JSON.parse(y),Array.isArray(g)&&u.status===404&&(p=[],g=null,E=200,w="OK")}catch{u.status===404&&y===""?(E=204,w="No Content"):g={message:y}}if(g&&this.isMaybeSingle&&(!((h=g?.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,E=200,w="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:p,count:v,status:E,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Wn.default=s,Wn}var Tc;function Sh(){if(Tc)return qn;Tc=1;var t=qn&&qn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qn,"__esModule",{value:!0});const e=t(Eh());class n extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return qn.default=n,qn}var Cc;function Qa(){if(Cc)return Hn;Cc=1;var t=Hn&&Hn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Hn,"__esModule",{value:!0});const e=t(Sh());class n extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Hn.default=n,Hn}var Oc;function Ah(){if(Oc)return Vn;Oc=1;var t=Vn&&Vn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vn,"__esModule",{value:!0});const e=t(Qa());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(r,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(r??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var i;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Vn.default=n,Vn}var Rc;function M_(){if(Rc)return Fn;Rc=1;var t=Fn&&Fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fn,"__esModule",{value:!0});const e=t(Ah()),n=t(Qa());class s{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${i}`);let h;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{f.searchParams.append(p,v)})):(d="POST",h=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Fn.default=s,Fn}var Ic;function U_(){if(Ic)return ke;Ic=1;var t=ke&&ke.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ke,"__esModule",{value:!0}),ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const e=t(M_());ke.PostgrestClient=e.default;const n=t(Ah());ke.PostgrestQueryBuilder=n.default;const s=t(Qa());ke.PostgrestFilterBuilder=s.default;const r=t(Sh());ke.PostgrestTransformBuilder=r.default;const i=t(Eh());ke.PostgrestBuilder=i.default;const o=t(wh());return ke.PostgrestError=o.default,ke.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},ke}var B_=U_();const F_=vh(B_),{PostgrestClient:V_,PostgrestQueryBuilder:dC,PostgrestFilterBuilder:hC,PostgrestTransformBuilder:fC,PostgrestBuilder:pC,PostgrestError:gC}=F_;class H_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const q_="2.74.0",W_=`realtime-js/${q_}`,K_="1.0.0",la=1e4,z_=1e3,G_=100;var er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(er||(er={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var ca;(function(t){t.websocket="websocket"})(ca||(ca={}));var An;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(An||(An={}));class J_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Th{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_e||(_e={}));const kc=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Y_(o,t,e,r),i),{}):{}},Y_=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r?.type,o=n[t];return i&&!s.includes(i)?Ch(i,o):ua(o)},Ch=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ev(e,n)}switch(t){case _e.bool:return Q_(e);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return X_(e);case _e.json:case _e.jsonb:return Z_(e);case _e.timestamp:return tv(e);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return ua(e);default:return ua(e)}},ua=t=>t,Q_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ev=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ch(e,a))}return t},tv=t=>typeof t=="string"?t.replace(" ","T"):t,Oh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xi{constructor(e,n,s={},r=la){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pc||(Pc={}));class tr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tr.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=tr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=tr.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),g=c.filter(v=>h.indexOf(v.presence_ref)<0),p=d.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(a[u]=g),p.length>0&&(l[u]=p)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}s(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xc||(xc={}));var nr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nr||(nr={}));var Mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class Xa{constructor(e,n={config:{}},s){var r,i;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xi(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new tr(this),this.broadcastEndpointURL=Oh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[nr.PRESENCE]&&this.bindings[nr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(Mt.CHANNEL_ERROR,h)),this._onClose(()=>e?.(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e?.(Mt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p?.length)!==null&&g!==void 0?g:0,E=[];for(let w=0;w<v;w++){const b=p[w],{filter:{event:y,schema:$,table:A,filter:R}}=b,L=h&&h[w];if(L&&L.event===y&&L.schema===$&&L.table===A&&L.filter===R)E.push(Object.assign(Object.assign({},b),{id:L.id}));else{this.unsubscribe(),this.state=Re.errored,e?.(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Mt.SUBSCRIBED);return}}).receive("error",h=>{this.state=Re.errored,e?.(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Re.joined&&e===nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Xi(this,ht.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Xi(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>G_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ht;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var g,p,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=h.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var g,p,v,E,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const y=h.id,$=(g=h.filter)===null||g===void 0?void 0:g.event;return y&&((p=n.ids)===null||p===void 0?void 0:p.includes(y))&&($==="*"||$?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const y=(w=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return y==="*"||y===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:v,commit_timestamp:E,type:w,errors:b}=g;f=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:E,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}h.callback(f,s)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Xa.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=kc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=kc(e.columns,e.old_record)),n}}const Zi=()=>{},$r={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nv=[1e3,2e3,5e3,1e4],sv=1e4,rv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iv{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=la,this.transport=null,this.heartbeatIntervalMs=$r.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zi,this.ref=0,this.reconnectTimer=null,this.logger=Zi,this.conn=null,this.sendBuffer=[],this.serializer=new J_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>Rs(async()=>{const{default:a}=await Promise.resolve().then(()=>Is);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ca.websocket}`,this.httpEndpoint=Oh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K_}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return An.Connecting;case er.open:return An.Open;case er.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new Xa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(z_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},$r.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([rv],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:W_};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Th(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$r.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,i,o,a,l,u,c;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:la,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:$r.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Zi,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(d=>nv[d-1]||sv),this.encode=(u=e?.encode)!==null&&u!==void 0?u:((d,f)=>f(JSON.stringify(d))),this.decode=(c=e?.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Za extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ov extends Za{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class da extends Za{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var av=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rs(async()=>{const{default:s}=await Promise.resolve().then(()=>Is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},lv=()=>av(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rs(()=>Promise.resolve().then(()=>Is),void 0)).Response:Response}),ha=t=>{if(Array.isArray(t))return t.map(n=>ha(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=ha(s)}),e},cv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Dn=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uv=(t,e,n)=>Dn(void 0,void 0,void 0,function*(){const s=yield lv();t instanceof s&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,o=r?.statusCode||i+"";e(new ov(eo(r),i,o))}).catch(r=>{e(new da(eo(r),r))}):e(new da(eo(t),t))}),dv=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!s?r:(cv(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Sr(t,e,n,s,r,i){return Dn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,dv(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uv(l,a,s))})})}function li(t,e,n,s){return Dn(this,void 0,void 0,function*(){return Sr(t,"GET",e,n,s)})}function At(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return Sr(t,"POST",e,s,r,n)})}function fa(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return Sr(t,"PUT",e,s,r,n)})}function hv(t,e,n,s){return Dn(this,void 0,void 0,function*(){return Sr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Ih(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return Sr(t,"DELETE",e,s,r,n)})}var fv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class pv{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return fv(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}}var gv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class mv{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new pv(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return gv(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}}var Ke=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const _v={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vv{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return Ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$c),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?fa:At)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}upload(e,n,s){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:$c.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield fa(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Za("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ke(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Ke(this,void 0,void 0,function*(){try{const r=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>li(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mv(l,this.shouldThrowOnError)}info(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield li(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ha(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}exists(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield hv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s)&&s instanceof da){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ke(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},_v),n),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listV2(e,n){return Ke(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const bv="2.74.0",yv={"X-Client-Info":`storage-js/${bv}`};var Kn=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class wv{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yv),n),this.fetch=Rh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Kn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}createBucket(e){return Kn(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Kn(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}}class Ev extends wv{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new vv(this.url,this.headers,e,this.fetch)}}const Sv="2.74.0";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const Av={"X-Client-Info":`supabase-js-${Vs}/${Sv}`},Tv={headers:Av},Cv={schema:"public"},Ov={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rv={};var Iv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const kv=t=>{let e;return t?e=t:typeof fetch>"u"?e=bh:e=fetch,(...n)=>e(...n)},Pv=()=>typeof Headers>"u"?yh:Headers,xv=(t,e,n)=>{const s=kv(n),r=Pv();return(i,o)=>Iv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var $v=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function Nv(t){return t.endsWith("/")?t:t+"/"}function Dv(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>$v(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Lv(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kh="2.74.0",ss=30*1e3,pa=3,to=pa*ss,jv="http://localhost:9999",Mv="supabase.auth.token",Uv={"X-Client-Info":`gotrue-js/${kh}`},ga="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fv=600*1e3;class pr extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Vv extends pr{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Hv(t){return Q(t)&&t.name==="AuthApiError"}class Tn extends pr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class pn extends pr{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class en extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qv(t){return Q(t)&&t.name==="AuthSessionMissingError"}class zn extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nr extends pn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dr extends pn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wv(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nc extends pn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ma extends pn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function no(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Dc extends pn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class _a extends pn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lc=` 	
\r=`.split(""),Kv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lc.length;e+=1)t[Lc[e].charCodeAt(0)]=-2;for(let e=0;e<ci.length;e+=1)t[ci[e].charCodeAt(0)]=e;return t})();function jc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ci[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ci[s]),e.queuedBits-=6}}function xh(t,e,n){const s=Kv[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Jv(o,s,n)};for(let o=0;o<t.length;o+=1)xh(t.charCodeAt(o),r,i);return e.join("")}function zv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gv(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}zv(s,e)}}function Jv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ps(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)xh(t.charCodeAt(r),n,s);return new Uint8Array(e)}function Yv(t){const e=[];return Gv(t,n=>e.push(n)),new Uint8Array(e)}function Cn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>jc(r,n,s)),jc(null,n,s),e.join("")}function Qv(t){return Math.round(Date.now()/1e3)+t}function Xv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},$h=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function Zv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rs(async()=>{const{default:s}=await Promise.resolve().then(()=>Is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},eb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qt=async(t,e)=>{await t.removeItem(e)};class ki{constructor(){this.promise=new ki.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ki.promiseConstructor=Promise;function so(t){const e=t.split(".");if(e.length!==3)throw new _a("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Bv.test(e[s]))throw new _a("JWT not in base64url format");return{header:JSON.parse(Mc(e[0])),payload:JSON.parse(Mc(e[1])),signature:ps(e[2]),raw:{header:e[0],payload:e[1]}}}async function tb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nb(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function sb(t){return("0"+t.toString(16)).substr(-2)}function rb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,sb).join("")}async function ib(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function ob(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ib(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(t,e,n=!1){const s=rb();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await rs(t,`${e}-code-verifier`,r);const i=await ob(s);return[i,s===i?"plain":"s256"]}const ab=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lb(t){const e=t.headers.get(ga);if(!e||!e.match(ab))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ub(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const db=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(t){if(!db.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uc(t){return JSON.parse(JSON.stringify(t))}var hb=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Sn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fb=[502,503,504];async function Bc(t){var e;if(!eb(t))throw new ma(Sn(t),0);if(fb.includes(t.status))throw new ma(Sn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Tn(Sn(i),i)}let s;const r=lb(t);if(r&&r.getTime()>=Ph["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Dc(Sn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Dc(Sn(n),t.status,n.weak_password.reasons);throw new Vv(Sn(n),t.status||500,s)}const pb=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function ee(t,e,n,s){var r;const i=Object.assign({},s?.headers);i[ga]||(i[ga]=Ph["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gb(t,e,n+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function gb(t,e,n,s,r,i){const o=pb(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ma(Sn(l),0)}if(a.ok||await Bc(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Bc(l)}}function dt(t){var e;let n=null;vb(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Qv(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Fc(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function an(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mb(t){return{data:t,error:null}}function _b(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=hb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Vc(t){return t}function vb(t){return t.access_token&&t.refresh_token&&t.expires_in}const io=["global","local","others"];var bb=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class yb{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Nh(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=io[0]){if(io.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${io.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=bb(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_b,redirectTo:n?.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:an})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Vc});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Jn(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:an})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Jn(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:an})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Jn(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Jn(e.userId);try{const{data:n,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Jn(e.userId),Jn(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Vc});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Hc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Yn={debug:!!(globalThis&&$h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wb extends Dh{}async function Eb(t,e,n){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Sb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ab(t){return parseInt(t,16)}function Tb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Cb(t){var e;const{chainId:n,domain:s,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Lh(t.address),g=c?`${c}://${s}`:s,p=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${h}

${p}`;let E=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(E+=`
Expiration Time: ${r.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),l&&(E+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}E+=w}return`${v}
${E}`}class Se extends Error{constructor({message:e,code:n,cause:s,name:r}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=r??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ui extends Se{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ob({error:t,options:e}){var n,s,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Mh(o)){if(i.rp.id!==o)return new Se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Rb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Mh(s)){if(n.rpId!==s)return new Se({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var jh=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class Ib{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kb=new Ib;function Pb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,r=jh(t,["challenge","user","excludeCredentials"]),i=ps(e).buffer,o=Object.assign(Object.assign({},n),{id:ps(n.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const u=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ps(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function xb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=jh(t,["challenge","allowCredentials"]),r=ps(e).buffer,i=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ps(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function $b(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cn(new Uint8Array(r.authenticatorData)),clientDataJSON:Cn(new Uint8Array(r.clientDataJSON)),signature:Cn(new Uint8Array(r.signature)),userHandle:r.userHandle?Cn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qc(){var t,e;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Db(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:Ob({error:e,options:t})}}}async function Lb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:Rb({error:e,options:t})}}}const jb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Mb={userVerification:"preferred",hints:["security-key"]};function di(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of t)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(n(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=di(a,o):s[i]=di(o)}else s[i]=o}return s}function Ub(t,e){return di(jb,t,e||{})}function Bb(t,e){return di(Mb,t,e||{})}class Fb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:r},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=r??kb.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Ub(o.webauthn.credential_options.publicKey,i?.create),{data:c,error:d}=await Db({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Bb(o.webauthn.credential_options.publicKey,i?.request),{data:c,error:d}=await Lb(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new Tn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!n)return{data:null,error:new pr("rpId is required for WebAuthn authentication")};try{if(!qc())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new Tn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!n)return{data:null,error:new pr("rpId is required for WebAuthn registration")};try{if(!qc())return{data:null,error:new Tn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c?.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Q(o)?{data:null,error:o}:{data:null,error:new Tn("Unexpected error in register",o)}}}}Sb();const Vb={url:jv,storageKey:Mv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wc(t,e,n){return await n()}const Qn={};class gr{get jwks(){var e,n;return(n=(e=Qn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gr.nextInstanceID,gr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Vb),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new yb({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Nh(r.fetch),this.lock=r.lock||Wc,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Qe()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Eb:this.lock=Wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fb(this)},this.persistSession?(r.storage?this.storage=r.storage:$h()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hc(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Hc(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Zv(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Qe()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Wv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new Tn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Gn(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:c,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},xform:dt})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(s=f?.data)!==null&&s!==void 0?s:{},channel:(r=f?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dt})}else throw new Nr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Fc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Fc})}else throw new Nr("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new zn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,r,i,o,a,l,u,c,d,f;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:p,wallet:v,statement:E,options:w}=e;let b;if(Qe())if(typeof v=="object")b=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const y=new URL((n=w?.url)!==null&&n!==void 0?n:window.location.href),$=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Lh($[0]);let R=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!R){const N=await b.request({method:"eth_chainId"});R=Ab(N)}const L={domain:y.host,address:A,statement:E,uri:y.href,version:"1",chainId:R,nonce:(r=w?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=Cb(L),g=await b.request({method:"personal_sign",params:[Tb(h),A]})}try{const{data:p,error:v}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dt});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new zn}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(Q(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var n,s,r,i,o,a,l,u,c,d,f,h;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:v,wallet:E,statement:w,options:b}=e;let y;if(Qe())if(typeof E=="object")y=E;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))y=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=E}const $=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const A=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),w?{statement:w}:null));let R;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")R=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)R=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)g=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),p=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${$.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(r=(s=b?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const A=await y.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=A}}try{const{data:v,error:E}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cn(p)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:dt});if(E)throw E;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new zn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:E})}catch(v){if(Q(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await wn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:dt});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:dt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Gn(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new Nr("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mb})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new en;const{error:r}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Nr("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await wn(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=ro()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:an}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:an})})}catch(n){if(Q(n))return qv(n)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new en;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Gn(this.storage,this.storageKey));const{data:u,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:an});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=so(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new en;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qe())throw new Dr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nc("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Dr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,c);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const E={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(s){if(Q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Hv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Xv(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Gn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Q(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:dt}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new zn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:h})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await nb(async r=>(r>0&&await tb(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&no(i)&&Date.now()+o-s<ss})}catch(s){if(this._debug(n,"error",s),Q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Qe()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await wn(this.storage,this.storageKey);if(r&&this.userStorage){let o=await wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await rs(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:ro()}else if(r&&!r.user&&!r.user){const o=await wn(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await Qt(this.storage,this.storageKey+"-user"),await rs(this.storage,this.storageKey,r)):r.user=ro()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<to;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${to}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),no(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ki;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),Q(i)){const o={data:null,error:i};return no(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await rs(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Uc(r);await rs(this.storage,this.storageKey,i)}else{const r=Uc(n);await rs(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ss}ms, refresh threshold is ${pa} ticks`),r<=pa&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$b(e.webauthn.credential_response):Nb(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const o=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Pb(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:xb(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=so(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Fv>r)return s;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};s=h.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=so(s);n?.allowExpired||cb(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:i,header:r,signature:o},error:null}}const c=ub(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Yv(`${a}.${l}`)))throw new _a("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}gr.nextInstanceID=0;const Hb=gr;class qb extends Hb{constructor(e){super(e)}}var Wb=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(d){o(d)}}function l(c){try{u(s.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Kb{constructor(e,n,s){var r,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=Lv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Cv,realtime:Rv,auth:Object.assign(Object.assign({},Ov),{storageKey:l}),global:Tv},c=Dv(s??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=xv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new V_(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ev(this.storageUrl.href,this.headers,this.fetch,s?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new P_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Wb(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qb({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zb=(t,e,n)=>new Kb(t,e,n);function Gb(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Gb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jb="https://prlivcmqjqjypclkcovl.supabase.co",Yb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBybGl2Y21xanFqeXBjbGtjb3ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDcwMTIsImV4cCI6MjA2OTcyMzAxMn0.cQds_3P7_fBKQ3iiaw82PNP1HxIqS_fN4aAux3ywDWM",we=zb(Jb,Yb),Pi=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Qb={class:"min-vh-100 bg-light"},Xb={key:0,class:"navbar navbar-expand-lg navbar-light bg-success shadow-sm"},Zb={class:"container-fluid px-3"},ey={class:"collapse navbar-collapse",id:"navbarNav"},ty={class:"navbar-nav me-auto"},ny={class:"nav-item"},sy={key:0,class:"nav-item"},ry={key:1,class:"nav-item"},iy={class:"d-flex flex-column flex-lg-row align-items-lg-center gap-2"},oy={class:"text-white small"},ay={key:0,class:"badge bg-dark ms-2"},ly={class:"container-fluid p-3"},cy={__name:"App",setup(t){const e=Ja(),n=C_(),s=ue(!1),r=ue(!1),i=ue("");Nn(async()=>{await o()}),Ys(()=>n.path,async()=>{await o()});async function o(){try{const{data:{session:l}}=await we.auth.getSession();if(l){s.value=!0,i.value=l.user.email;const{data:u}=await we.from("users").select("role").eq("user_id",l.user.id).single();r.value=u?.role==="admin"}else s.value=!1,r.value=!1,i.value=""}catch(l){console.error("Fehler bei der Berechtigungsprüfung:",l)}}async function a(){try{localStorage.removeItem("auth_credentials"),await we.auth.signOut(),console.log("👋 Erfolgreich abgemeldet"),await e.push("/login")}catch(l){console.error("Fehler beim Abmelden:",l)}}return(l,u)=>{const c=Qo("router-link"),d=Qo("router-view");return oe(),ae("div",Qb,[s.value?(oe(),ae("nav",Xb,[T("div",Zb,[u[3]||(u[3]=T("span",{class:"navbar-brand text-white fw-bold mb-0"},"🌳 Stadtranderholung",-1)),u[4]||(u[4]=T("button",{class:"navbar-toggler border-white",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Navigation umschalten"},[T("span",{class:"navbar-toggler-icon"})],-1)),T("div",ey,[T("ul",ty,[T("li",ny,[Ie(c,{to:"/info",class:"nav-link text-white"},{default:Ks(()=>[...u[0]||(u[0]=[Ot(" ℹ️ Info ",-1)])]),_:1})]),r.value?(oe(),ae("li",sy,[Ie(c,{to:"/config",class:"nav-link text-white"},{default:Ks(()=>[...u[1]||(u[1]=[Ot(" ⚙️ Konfiguration ",-1)])]),_:1})])):Rt("",!0),r.value?(oe(),ae("li",ry,[Ie(c,{to:"/invite",class:"nav-link text-white"},{default:Ks(()=>[...u[2]||(u[2]=[Ot(" 🎟️ Einladungen ",-1)])]),_:1})])):Rt("",!0)]),T("div",iy,[T("span",oy,[Ot(" 👤 "+Ft(i.value)+" ",1),r.value?(oe(),ae("span",ay,"ADMIN")):Rt("",!0)]),T("button",{onClick:a,class:"btn btn-danger btn-sm"}," 🚪 Abmelden ")])])])])):Rt("",!0),T("main",ly,[Ie(d)])])}}},uy=Pi(cy,[["__scopeId","data-v-e6e53f35"]]),el="app_config_cache",dy=300*1e3,mr=ue({}),va=ue(!1),Uh=ue(null),hy=ue(0),hi=ue(!1);let sr=null;async function Bh(){va.value=!0;const{data:t,error:e}=await we.from("config").select("*");if(va.value=!1,e)return console.error("Fehler beim Laden der Konfiguration:",e.message),Uh.value=e,null;const n=Object.fromEntries(t.map(s=>[s.key,s.value]));return mr.value=n,localStorage.setItem(el,JSON.stringify({data:n,timestamp:Date.now()})),hy.value=Date.now(),n}async function Fh(t=!1){const e=localStorage.getItem(el),n=Date.now();if(!t&&e){const{data:s,timestamp:r}=JSON.parse(e);if(n-r<dy)return mr.value=s,s}return await Bh()}async function fy(t,e){if(!hi.value)throw new Error("Unzureichende Rechte zur Änderung der Konfiguration");const{error:n}=await we.from("config").update({value:e,updated_at:new Date().toISOString()}).eq("key",t);if(n)throw n;mr.value[t]=e,localStorage.setItem(el,JSON.stringify({data:mr.value,timestamp:Date.now()}))}function Vh(){sr||(sr=we.channel("public:config").on("postgres_changes",{event:"*",schema:"public",table:"config"},async()=>{console.log("⚡ Konfigurations-Update über WebSocket empfangen"),await Bh()}).subscribe(t=>console.log("📡 Realtime-Status:",t)))}function py(){sr&&(we.removeChannel(sr),sr=null)}async function gy(){const{data:{user:t}}=await we.auth.getUser();if(t){const{data:e}=await we.from("users").select("role").eq("user_id",t.id).single();hi.value=e?.role==="admin"}else hi.value=!1;await Fh(),Vh()}Va(py);function Hh(){return Nn(()=>Vh()),{config:mr,loadConfig:Fh,updateConfig:fy,isAdmin:hi,loading:va,error:Uh,initConfigModule:gy}}const my={class:"container py-4"},_y={class:"row justify-content-center"},vy={class:"col-12 col-lg-10 col-xl-8"},by={class:"card shadow border-0 rounded-4"},yy={class:"card-body p-4 p-md-5"},wy={class:"card bg-success bg-opacity-10 border-success border-2 rounded-3 mt-4 shadow-sm"},Ey={class:"card-body p-4 text-center"},Sy=["href"],Ay={key:1,class:"text-muted"},Ty={__name:"InfoView",setup(t){const{config:e,initConfigModule:n,loadConfig:s}=Hh();return Nn(async()=>{await n(),await s()}),(r,i)=>(oe(),ae("div",my,[T("div",_y,[T("div",vy,[T("div",by,[T("div",yy,[i[3]||(i[3]=T("h1",{class:"display-5 fw-bold text-success text-center mb-4"}," Über uns ",-1)),i[4]||(i[4]=T("div",{class:"fs-6 text-secondary lh-lg"},[T("p",null," Wir freuen uns, Sie in unserer App zur Organisation der Kinderfreizeit begrüßen zu dürfen! Hier erhalten Sie alle aktuellen Informationen zu Gruppen, Bussen und Zeitplänen. "),T("p",null," Unsere Spezialisten bemühen sich, den Prozess so transparent wie möglich zu gestalten, damit sich jeder Elternteil sicher und jedes Kind wohl fühlt. ")],-1)),T("div",wy,[T("div",Ey,[i[1]||(i[1]=T("h2",{class:"h5 fw-bold text-success mb-3"}," Kontaktieren Sie uns ",-1)),i[2]||(i[2]=T("p",{class:"mb-2 text-secondary"}," Telefonkontakt: ",-1)),it(e).public_phone_number?(oe(),ae("a",{key:0,href:`tel:${it(e).public_phone_number}`,class:"btn btn-success btn-lg fw-semibold d-inline-flex align-items-center gap-2"}," 📞 "+Ft(it(e).public_phone_number),9,Sy)):(oe(),ae("div",Ay,[...i[0]||(i[0]=[T("div",{class:"spinner-border spinner-border-sm me-2",role:"status"},[T("span",{class:"visually-hidden"},"Laden...")],-1),Ot(" Wird geladen... ",-1)])]))])])])])])])]))}},Cy=Pi(Ty,[["__scopeId","data-v-ca7f33b2"]]),Oy={class:"p-6 max-w-2xl mx-auto"},Ry={key:0,class:"text-red-600 font-semibold"},Iy={key:1},ky={key:0},Py={key:1},xy={class:"block font-semibold text-gray-700"},$y=["onUpdate:modelValue"],Ny=["onClick"],Dy={__name:"ConfigView",setup(t){const{config:e,loadConfig:n,updateConfig:s,isAdmin:r,initConfigModule:i,loading:o}=Hh(),a=yr({});Nn(async()=>{await i(),await n(),Object.assign(a,e.value)});async function l(u){await s(u,a[u])}return(u,c)=>(oe(),ae("div",Oy,[c[0]||(c[0]=T("h1",{class:"text-2xl font-bold mb-4 text-green-700"},"⚙️ Konfigurationsverwaltung",-1)),it(r)?(oe(),ae("div",Iy,[it(o)?(oe(),ae("div",ky,"Einstellungen werden geladen...")):(oe(),ae("div",Py,[(oe(!0),ae(Tt,null,ng(it(e),(d,f)=>(oe(),ae("div",{key:f,class:"border-b py-3"},[T("label",xy,Ft(f),1),ft(T("input",{"onUpdate:modelValue":h=>a[f]=h,class:"border rounded px-2 py-1 w-full"},null,8,$y),[[on,a[f]]]),T("button",{onClick:h=>l(f),class:"mt-2 bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"}," 💾 Speichern ",8,Ny)]))),128))]))])):(oe(),ae("div",Ry," Sie haben keine Rechte, auf diese Seite zuzugreifen. "))]))}};function Ly(t,e){console.group(`🪵 [${t}]`),e.error?console.error("❌ Error:",e.error):console.log("✅ Data:",e.data),console.trace(),console.groupEnd()}const jy={class:"min-vh-100 d-flex align-items-center justify-content-center bg-gradient",style:{background:"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)"}},My={class:"container"},Uy={class:"row justify-content-center"},By={class:"col-12 col-sm-10 col-md-8 col-lg-5 col-xl-4"},Fy={class:"card shadow-lg border-0 rounded-4"},Vy={class:"card-body p-4 p-sm-5"},Hy={key:0,class:"text-center py-5"},qy={class:"mb-3"},Wy={class:"mb-3"},Ky={class:"form-check mb-3"},zy={key:0,class:"alert alert-danger d-flex align-items-center py-2",role:"alert"},Gy=["disabled"],Jy={key:0},Yy={key:1},Qy={__name:"LoginView",setup(t){const e=Ja(),n=ue(""),s=ue(""),r=ue(!0),i=ue(!1),o=ue(""),a=ue(!0);Nn(async()=>{try{const{data:{session:g}}=await we.auth.getSession();if(g){console.log("✅ Aktive Sitzung gefunden, leite weiter..."),await h();return}const p=l();p&&(console.log("🔑 Gespeicherte Anmeldedaten gefunden, führe automatische Anmeldung durch..."),await d(p))}catch(g){console.error("Fehler bei der automatischen Anmeldung:",g)}finally{a.value=!1}});function l(){const g=localStorage.getItem("auth_credentials");if(!g)return null;try{return JSON.parse(atob(g))}catch{return null}}function u(g,p){const v=JSON.stringify({email:g,password:p});localStorage.setItem("auth_credentials",btoa(v))}function c(){localStorage.removeItem("auth_credentials")}async function d(g){try{const{data:p,error:v}=await we.auth.signInWithPassword({email:g.email,password:g.password});if(v)throw v;console.log("✅ Automatische Anmeldung erfolgreich"),await h()}catch(p){console.error("Fehler bei der automatischen Anmeldung:",p.message),c()}}async function f(){i.value=!0,o.value="";try{const{data:g,error:p}=await we.auth.signInWithPassword({email:n.value,password:s.value});if(p)throw p;const{data:v,error:E}=await we.from("users").select("role, active").eq("user_id",g.user.id).single();if(Ly("Login → fetch user",{data:v,error:E}),E)throw new Error("Fehler bei der Abfrage von users: "+E.message);if(!v)throw new Error("Benutzer im System nicht gefunden");if(!v.active)throw await we.auth.signOut(),new Error("Ihr Konto ist deaktiviert");if(v.role!=="admin"&&v.role!=="user")throw await we.auth.signOut(),new Error("Unzureichende Rechte für die Anmeldung");r.value&&(u(n.value,s.value),console.log("💾 Anmeldedaten für automatische Anmeldung gespeichert")),await we.from("users").update({last_seen_date:new Date().toISOString()}).eq("user_id",g.user.id),console.log("✅ Anmeldung erfolgreich abgeschlossen"),await h()}catch(g){o.value=g.message,console.error("⚠️ Anmeldefehler:",g)}finally{i.value=!1}}async function h(){await e.push("/info")}return(g,p)=>(oe(),ae("div",jy,[T("div",My,[T("div",Uy,[T("div",By,[T("div",Fy,[T("div",Vy,[p[9]||(p[9]=T("div",{class:"text-center mb-4"},[T("h1",{class:"h3 fw-bold text-success mb-2"},"🌳 Stadtranderholung"),T("p",{class:"text-muted small"},"Systemanmeldung")],-1)),a.value?(oe(),ae("div",Hy,[...p[3]||(p[3]=[T("div",{class:"spinner-border text-success",style:{width:"4rem",height:"4rem"},role:"status"},[T("span",{class:"visually-hidden"},"Laden...")],-1),T("p",{class:"mt-3 text-muted"},"Automatische Anmeldung...",-1)])])):(oe(),ae("form",{key:1,onSubmit:Ka(f,["prevent"])},[T("div",qy,[p[4]||(p[4]=T("label",{for:"email",class:"form-label fw-semibold"},"Email",-1)),ft(T("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>n.value=v),id:"email",type:"email",required:"",autocomplete:"username",class:"form-control form-control-lg",placeholder:"admin@stadtranderholung.local"},null,512),[[on,n.value]])]),T("div",Wy,[p[5]||(p[5]=T("label",{for:"password",class:"form-label fw-semibold"},"Passwort",-1)),ft(T("input",{"onUpdate:modelValue":p[1]||(p[1]=v=>s.value=v),id:"password",type:"password",required:"",autocomplete:"current-password",class:"form-control form-control-lg",placeholder:"••••••••"},null,512),[[on,s.value]])]),T("div",Ky,[ft(T("input",{"onUpdate:modelValue":p[2]||(p[2]=v=>r.value=v),class:"form-check-input",type:"checkbox",id:"remember"},null,512),[[gm,r.value]]),p[6]||(p[6]=T("label",{class:"form-check-label small",for:"remember"}," Angemeldet bleiben ",-1))]),o.value?(oe(),ae("div",zy,[p[7]||(p[7]=T("span",{class:"me-2"},"⚠️",-1)),T("div",null,Ft(o.value),1)])):Rt("",!0),T("button",{type:"submit",disabled:i.value,class:"btn btn-success btn-lg w-100 fw-semibold"},[i.value?(oe(),ae("span",Jy,[...p[8]||(p[8]=[T("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),Ot(" Anmelden... ",-1)])])):(oe(),ae("span",Yy,"🔐 Anmelden"))],8,Gy)],32)),p[10]||(p[10]=T("div",{class:"mt-4 text-center"},[T("p",{class:"text-muted small mb-1"},"Standardmäßig:"),T("code",{class:"small"},"admin@stadtranderholung.local / Password123")],-1))])])])])])]))}},Xy=Pi(Qy,[["__scopeId","data-v-7f2f822b"]]);var Xn={},oo,Kc;function Zy(){return Kc||(Kc=1,oo=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),oo}var ao={},Xt={},zc;function Ln(){if(zc)return Xt;zc=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xt.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17},Xt.getSymbolTotalCodewords=function(s){return e[s]},Xt.getBCHDigit=function(n){let s=0;for(;n!==0;)s++,n>>>=1;return s},Xt.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');t=s},Xt.isKanjiModeEnabled=function(){return typeof t<"u"},Xt.toSJIS=function(s){return t(s)},Xt}var lo={},Gc;function tl(){return Gc||(Gc=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,r){if(t.isValid(s))return s;try{return e(s)}catch{return r}}})(lo)),lo}var co,Jc;function ew(){if(Jc)return co;Jc=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let s=0;s<n;s++)this.putBit((e>>>n-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},co=t,co}var uo,Yc;function tw(){if(Yc)return uo;Yc=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,s,r){const i=e*this.size+n;this.data[i]=s,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,s){this.data[e*this.size+n]^=s},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},uo=t,uo}var ho={},Qc;function nw(){return Qc||(Qc=1,(function(t){const e=Ln().getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const r=Math.floor(s/7)+2,i=e(s),o=i===145?26:Math.ceil((i-13)/(2*r-2))*2,a=[i-7];for(let l=1;l<r-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(s){const r=[],i=t.getRowColCoords(s),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||r.push([i[a],i[l]]);return r}})(ho)),ho}var fo={},Xc;function sw(){if(Xc)return fo;Xc=1;const t=Ln().getSymbolSize,e=7;return fo.getPositions=function(s){const r=t(s);return[[0,0],[r-e,0],[0,r-e]]},fo}var po={},Zc;function rw(){return Zc||(Zc=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const i=r.size;let o=0,a=0,l=0,u=null,c=null;for(let d=0;d<i;d++){a=l=0,u=c=null;for(let f=0;f<i;f++){let h=r.get(d,f);h===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=h,a=1),h=r.get(f,d),h===c?l++:(l>=5&&(o+=e.N1+(l-5)),c=h,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(r){const i=r.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const u=r.get(a,l)+r.get(a,l+1)+r.get(a+1,l)+r.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(r){const i=r.size;let o=0,a=0,l=0;for(let u=0;u<i;u++){a=l=0;for(let c=0;c<i;c++)a=a<<1&2047|r.get(u,c),c>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|r.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(r){let i=0;const o=r.data.length;for(let l=0;l<o;l++)i+=r.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(s,r,i){switch(s){case t.Patterns.PATTERN000:return(r+i)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(r+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return r*i%2+r*i%3===0;case t.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case t.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(r,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(r,l,a))},t.getBestMask=function(r,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){i(u),t.applyMask(u,r);const c=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(u,r),c<l&&(l=c,a=u)}return a}})(po)),po}var Lr={},eu;function qh(){if(eu)return Lr;eu=1;const t=tl(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lr.getBlocksCount=function(r,i){switch(i){case t.L:return e[(r-1)*4+0];case t.M:return e[(r-1)*4+1];case t.Q:return e[(r-1)*4+2];case t.H:return e[(r-1)*4+3];default:return}},Lr.getTotalCodewordsCount=function(r,i){switch(i){case t.L:return n[(r-1)*4+0];case t.M:return n[(r-1)*4+1];case t.Q:return n[(r-1)*4+2];case t.H:return n[(r-1)*4+3];default:return}},Lr}var go={},Ms={},tu;function iw(){if(tu)return Ms;tu=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let s=1;for(let r=0;r<255;r++)t[r]=s,e[s]=r,s<<=1,s&256&&(s^=285);for(let r=255;r<512;r++)t[r]=t[r-255]})(),Ms.log=function(s){if(s<1)throw new Error("log("+s+")");return e[s]},Ms.exp=function(s){return t[s]},Ms.mul=function(s,r){return s===0||r===0?0:t[e[s]+e[r]]},Ms}var nu;function ow(){return nu||(nu=1,(function(t){const e=iw();t.mul=function(s,r){const i=new Uint8Array(s.length+r.length-1);for(let o=0;o<s.length;o++)for(let a=0;a<r.length;a++)i[o+a]^=e.mul(s[o],r[a]);return i},t.mod=function(s,r){let i=new Uint8Array(s);for(;i.length-r.length>=0;){const o=i[0];for(let l=0;l<r.length;l++)i[l]^=e.mul(r[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(s){let r=new Uint8Array([1]);for(let i=0;i<s;i++)r=t.mul(r,new Uint8Array([1,e.exp(i)]));return r}})(go)),go}var mo,su;function aw(){if(su)return mo;su=1;const t=ow();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(s){this.degree=s,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(s.length+this.degree);r.set(s);const i=t.mod(r,this.genPoly),o=this.degree-i.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(i,o),a}return i},mo=e,mo}var _o={},vo={},bo={},ru;function Wh(){return ru||(ru=1,bo.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),bo}var Et={},iu;function Kh(){if(iu)return Et;iu=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Et.KANJI=new RegExp(n,"g"),Et.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Et.BYTE=new RegExp(s,"g"),Et.NUMERIC=new RegExp(t,"g"),Et.ALPHANUMERIC=new RegExp(e,"g");const r=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Et.testKanji=function(l){return r.test(l)},Et.testNumeric=function(l){return i.test(l)},Et.testAlphanumeric=function(l){return o.test(l)},Et}var ou;function jn(){return ou||(ou=1,(function(t){const e=Wh(),n=Kh();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function s(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(i,o){if(t.isValid(i))return i;try{return s(i)}catch{return o}}})(vo)),vo}var au;function lw(){return au||(au=1,(function(t){const e=Ln(),n=qh(),s=tl(),r=jn(),i=Wh(),o=7973,a=e.getBCHDigit(o);function l(f,h,g){for(let p=1;p<=40;p++)if(h<=t.getCapacity(p,g,f))return p}function u(f,h){return r.getCharCountIndicator(f,h)+4}function c(f,h){let g=0;return f.forEach(function(p){const v=u(p.mode,h);g+=v+p.getBitsLength()}),g}function d(f,h){for(let g=1;g<=40;g++)if(c(f,g)<=t.getCapacity(g,h,r.MIXED))return g}t.from=function(h,g){return i.isValid(h)?parseInt(h,10):g},t.getCapacity=function(h,g,p){if(!i.isValid(h))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=r.BYTE);const v=e.getSymbolTotalCodewords(h),E=n.getTotalCodewordsCount(h,g),w=(v-E)*8;if(p===r.MIXED)return w;const b=w-u(p,h);switch(p){case r.NUMERIC:return Math.floor(b/10*3);case r.ALPHANUMERIC:return Math.floor(b/11*2);case r.KANJI:return Math.floor(b/13);case r.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(h,g){let p;const v=s.from(g,s.M);if(Array.isArray(h)){if(h.length>1)return d(h,v);if(h.length===0)return 1;p=h[0]}else p=h;return l(p.mode,p.getLength(),v)},t.getEncodedBits=function(h){if(!i.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return h<<12|g}})(_o)),_o}var yo={},lu;function cw(){if(lu)return yo;lu=1;const t=Ln(),e=1335,n=21522,s=t.getBCHDigit(e);return yo.getEncodedBits=function(i,o){const a=i.bit<<3|o;let l=a<<10;for(;t.getBCHDigit(l)-s>=0;)l^=e<<t.getBCHDigit(l)-s;return(a<<10|l)^n},yo}var wo={},Eo,cu;function uw(){if(cu)return Eo;cu=1;const t=jn();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(s){let r,i,o;for(r=0;r+3<=this.data.length;r+=3)i=this.data.substr(r,3),o=parseInt(i,10),s.put(o,10);const a=this.data.length-r;a>0&&(i=this.data.substr(r),o=parseInt(i,10),s.put(o,a*3+1))},Eo=e,Eo}var So,uu;function dw(){if(uu)return So;uu=1;const t=jn(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(s){this.mode=t.ALPHANUMERIC,this.data=s}return n.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i+2<=this.data.length;i+=2){let o=e.indexOf(this.data[i])*45;o+=e.indexOf(this.data[i+1]),r.put(o,11)}this.data.length%2&&r.put(e.indexOf(this.data[i]),6)},So=n,So}var Ao,du;function hw(){if(du)return Ao;du=1;const t=jn();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(s){return s*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let s=0,r=this.data.length;s<r;s++)n.put(this.data[s],8)},Ao=e,Ao}var To,hu;function fw(){if(hu)return To;hu=1;const t=jn(),e=Ln();function n(s){this.mode=t.KANJI,this.data=s}return n.getBitsLength=function(r){return r*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let r;for(r=0;r<this.data.length;r++){let i=e.toSJIS(this.data[r]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),s.put(i,13)}},To=n,To}var Co={exports:{}},fu;function pw(){return fu||(fu=1,(function(t){var e={single_source_shortest_paths:function(n,s,r){var i={},o={};o[s]=0;var a=e.PriorityQueue.make();a.push(s,0);for(var l,u,c,d,f,h,g,p,v;!a.empty();){l=a.pop(),u=l.value,d=l.cost,f=n[u]||{};for(c in f)f.hasOwnProperty(c)&&(h=f[c],g=d+h,p=o[c],v=typeof o[c]>"u",(v||p>g)&&(o[c]=g,a.push(c,g),i[c]=u))}if(typeof r<"u"&&typeof o[r]>"u"){var E=["Could not find a path from ",s," to ",r,"."].join("");throw new Error(E)}return i},extract_shortest_path_from_predecessor_list:function(n,s){for(var r=[],i=s;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,s,r){var i=e.single_source_shortest_paths(n,s,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var s=e.PriorityQueue,r={},i;n=n||{};for(i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);return r.queue=[],r.sorter=n.sorter||s.default_sorter,r},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var r={value:n,cost:s};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Co)),Co.exports}var pu;function gw(){return pu||(pu=1,(function(t){const e=jn(),n=uw(),s=dw(),r=hw(),i=fw(),o=Kh(),a=Ln(),l=pw();function u(E){return unescape(encodeURIComponent(E)).length}function c(E,w,b){const y=[];let $;for(;($=E.exec(b))!==null;)y.push({data:$[0],index:$.index,mode:w,length:$[0].length});return y}function d(E){const w=c(o.NUMERIC,e.NUMERIC,E),b=c(o.ALPHANUMERIC,e.ALPHANUMERIC,E);let y,$;return a.isKanjiModeEnabled()?(y=c(o.BYTE,e.BYTE,E),$=c(o.KANJI,e.KANJI,E)):(y=c(o.BYTE_KANJI,e.BYTE,E),$=[]),w.concat(b,y,$).sort(function(R,L){return R.index-L.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function f(E,w){switch(w){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return s.getBitsLength(E);case e.KANJI:return i.getBitsLength(E);case e.BYTE:return r.getBitsLength(E)}}function h(E){return E.reduce(function(w,b){const y=w.length-1>=0?w[w.length-1]:null;return y&&y.mode===b.mode?(w[w.length-1].data+=b.data,w):(w.push(b),w)},[])}function g(E){const w=[];for(let b=0;b<E.length;b++){const y=E[b];switch(y.mode){case e.NUMERIC:w.push([y,{data:y.data,mode:e.ALPHANUMERIC,length:y.length},{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.ALPHANUMERIC:w.push([y,{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.KANJI:w.push([y,{data:y.data,mode:e.BYTE,length:u(y.data)}]);break;case e.BYTE:w.push([{data:y.data,mode:e.BYTE,length:u(y.data)}])}}return w}function p(E,w){const b={},y={start:{}};let $=["start"];for(let A=0;A<E.length;A++){const R=E[A],L=[];for(let N=0;N<R.length;N++){const F=R[N],V=""+A+N;L.push(V),b[V]={node:F,lastCount:0},y[V]={};for(let W=0;W<$.length;W++){const B=$[W];b[B]&&b[B].node.mode===F.mode?(y[B][V]=f(b[B].lastCount+F.length,F.mode)-f(b[B].lastCount,F.mode),b[B].lastCount+=F.length):(b[B]&&(b[B].lastCount=F.length),y[B][V]=f(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,w))}}$=L}for(let A=0;A<$.length;A++)y[$[A]].end=0;return{map:y,table:b}}function v(E,w){let b;const y=e.getBestModeForData(E);if(b=e.from(w,y),b!==e.BYTE&&b.bit<y.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(y));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new s(E);case e.KANJI:return new i(E);case e.BYTE:return new r(E)}}t.fromArray=function(w){return w.reduce(function(b,y){return typeof y=="string"?b.push(v(y,null)):y.data&&b.push(v(y.data,y.mode)),b},[])},t.fromString=function(w,b){const y=d(w,a.isKanjiModeEnabled()),$=g(y),A=p($,b),R=l.find_path(A.map,"start","end"),L=[];for(let N=1;N<R.length-1;N++)L.push(A.table[R[N]].node);return t.fromArray(h(L))},t.rawSplit=function(w){return t.fromArray(d(w,a.isKanjiModeEnabled()))}})(wo)),wo}var gu;function mw(){if(gu)return ao;gu=1;const t=Ln(),e=tl(),n=ew(),s=tw(),r=nw(),i=sw(),o=rw(),a=qh(),l=aw(),u=lw(),c=cw(),d=jn(),f=gw();function h(A,R){const L=A.size,N=i.getPositions(R);for(let F=0;F<N.length;F++){const V=N[F][0],W=N[F][1];for(let B=-1;B<=7;B++)if(!(V+B<=-1||L<=V+B))for(let G=-1;G<=7;G++)W+G<=-1||L<=W+G||(B>=0&&B<=6&&(G===0||G===6)||G>=0&&G<=6&&(B===0||B===6)||B>=2&&B<=4&&G>=2&&G<=4?A.set(V+B,W+G,!0,!0):A.set(V+B,W+G,!1,!0))}}function g(A){const R=A.size;for(let L=8;L<R-8;L++){const N=L%2===0;A.set(L,6,N,!0),A.set(6,L,N,!0)}}function p(A,R){const L=r.getPositions(R);for(let N=0;N<L.length;N++){const F=L[N][0],V=L[N][1];for(let W=-2;W<=2;W++)for(let B=-2;B<=2;B++)W===-2||W===2||B===-2||B===2||W===0&&B===0?A.set(F+W,V+B,!0,!0):A.set(F+W,V+B,!1,!0)}}function v(A,R){const L=A.size,N=u.getEncodedBits(R);let F,V,W;for(let B=0;B<18;B++)F=Math.floor(B/3),V=B%3+L-8-3,W=(N>>B&1)===1,A.set(F,V,W,!0),A.set(V,F,W,!0)}function E(A,R,L){const N=A.size,F=c.getEncodedBits(R,L);let V,W;for(V=0;V<15;V++)W=(F>>V&1)===1,V<6?A.set(V,8,W,!0):V<8?A.set(V+1,8,W,!0):A.set(N-15+V,8,W,!0),V<8?A.set(8,N-V-1,W,!0):V<9?A.set(8,15-V-1+1,W,!0):A.set(8,15-V-1,W,!0);A.set(N-8,8,1,!0)}function w(A,R){const L=A.size;let N=-1,F=L-1,V=7,W=0;for(let B=L-1;B>0;B-=2)for(B===6&&B--;;){for(let G=0;G<2;G++)if(!A.isReserved(F,B-G)){let be=!1;W<R.length&&(be=(R[W]>>>V&1)===1),A.set(F,B-G,be),V--,V===-1&&(W++,V=7)}if(F+=N,F<0||L<=F){F-=N,N=-N;break}}}function b(A,R,L){const N=new n;L.forEach(function(G){N.put(G.mode.bit,4),N.put(G.getLength(),d.getCharCountIndicator(G.mode,A)),G.write(N)});const F=t.getSymbolTotalCodewords(A),V=a.getTotalCodewordsCount(A,R),W=(F-V)*8;for(N.getLengthInBits()+4<=W&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const B=(W-N.getLengthInBits())/8;for(let G=0;G<B;G++)N.put(G%2?17:236,8);return y(N,A,R)}function y(A,R,L){const N=t.getSymbolTotalCodewords(R),F=a.getTotalCodewordsCount(R,L),V=N-F,W=a.getBlocksCount(R,L),B=N%W,G=W-B,be=Math.floor(N/W),se=Math.floor(V/W),ne=se+1,re=be-se,Ce=new l(re);let Pe=0;const Oe=new Array(W),ye=new Array(W);let Me=0;const Ue=new Uint8Array(A.buffer);for(let M=0;M<W;M++){const K=M<G?se:ne;Oe[M]=Ue.slice(Pe,Pe+K),ye[M]=Ce.encode(Oe[M]),Pe+=K,Me=Math.max(Me,K)}const xe=new Uint8Array(N);let Ee=0,C,j;for(C=0;C<Me;C++)for(j=0;j<W;j++)C<Oe[j].length&&(xe[Ee++]=Oe[j][C]);for(C=0;C<re;C++)for(j=0;j<W;j++)xe[Ee++]=ye[j][C];return xe}function $(A,R,L,N){let F;if(Array.isArray(A))F=f.fromArray(A);else if(typeof A=="string"){let be=R;if(!be){const se=f.rawSplit(A);be=u.getBestVersionForData(se,L)}F=f.fromString(A,be||40)}else throw new Error("Invalid data");const V=u.getBestVersionForData(F,L);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=V;else if(R<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const W=b(R,L,F),B=t.getSymbolSize(R),G=new s(B);return h(G,R),g(G),p(G,R),E(G,L,0),R>=7&&v(G,R),w(G,W),isNaN(N)&&(N=o.getBestMask(G,E.bind(null,G,L))),o.applyMask(N,G),E(G,L,N),{modules:G,version:R,errorCorrectionLevel:L,maskPattern:N,segments:F}}return ao.create=function(R,L){if(typeof R>"u"||R==="")throw new Error("No input text");let N=e.M,F,V;return typeof L<"u"&&(N=e.from(L.errorCorrectionLevel,e.M),F=u.from(L.version),V=o.from(L.maskPattern),L.toSJISFunc&&t.setToSJISFunction(L.toSJISFunc)),$(R,F,N,V)},ao}var Oo={},Ro={},mu;function zh(){return mu||(mu=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(i){return[i,i]}))),s.length===6&&s.push("F","F");const r=parseInt(s.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const r=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,i=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:i,scale:i?4:o,margin:r,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,r){return r.width&&r.width>=s+r.margin*2?r.width/(s+r.margin*2):r.scale},t.getImageWidth=function(s,r){const i=t.getScale(s,r);return Math.floor((s+r.margin*2)*i)},t.qrToImageData=function(s,r,i){const o=r.modules.size,a=r.modules.data,l=t.getScale(o,i),u=Math.floor((o+i.margin*2)*l),c=i.margin*l,d=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let h=0;h<u;h++){let g=(f*u+h)*4,p=i.color.light;if(f>=c&&h>=c&&f<u-c&&h<u-c){const v=Math.floor((f-c)/l),E=Math.floor((h-c)/l);p=d[a[v*o+E]?1:0]}s[g++]=p.r,s[g++]=p.g,s[g++]=p.b,s[g]=p.a}}})(Ro)),Ro}var _u;function _w(){return _u||(_u=1,(function(t){const e=zh();function n(r,i,o){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=s()),l=e.getOptions(l);const c=e.getImageWidth(i.modules.size,l),d=u.getContext("2d"),f=d.createImageData(c,c);return e.qrToImageData(f.data,i,l),n(d,u,c),d.putImageData(f,0,0),u},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=t.render(i,o,l),c=l.type||"image/png",d=l.rendererOpts||{};return u.toDataURL(c,d.quality)}})(Oo)),Oo}var Io={},vu;function vw(){if(vu)return Io;vu=1;const t=zh();function e(r,i){const o=r.a/255,a=i+'="'+r.hex+'"';return o<1?a+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(r,i,o){let a=r+i;return typeof o<"u"&&(a+=" "+o),a}function s(r,i,o){let a="",l=0,u=!1,c=0;for(let d=0;d<r.length;d++){const f=Math.floor(d%i),h=Math.floor(d/i);!f&&!u&&(u=!0),r[d]?(c++,d>0&&f>0&&r[d-1]||(a+=u?n("M",f+o,.5+h+o):n("m",l,0),l=0,u=!1),f+1<i&&r[d+1]||(a+=n("h",c),c=0)):l++}return a}return Io.render=function(i,o,a){const l=t.getOptions(o),u=i.modules.size,c=i.modules.data,d=u+l.margin*2,f=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",h="<path "+e(l.color.dark,"stroke")+' d="'+s(c,u,l.margin)+'"/>',g='viewBox="0 0 '+d+" "+d+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof a=="function"&&a(null,v),v},Io}var bu;function bw(){if(bu)return Xn;bu=1;const t=Zy(),e=mw(),n=_w(),s=vw();function r(i,o,a,l,u){const c=[].slice.call(arguments,1),d=c.length,f=typeof c[d-1]=="function";if(!f&&!t())throw new Error("Callback required as last argument");if(f){if(d<2)throw new Error("Too few arguments provided");d===2?(u=a,a=o,o=l=void 0):d===3&&(o.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=a,a=o,o=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(a=o,o=l=void 0):d===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(h,g){try{const p=e.create(a,l);h(i(p,o,l))}catch(p){g(p)}})}try{const h=e.create(a,l);u(null,i(h,o,l))}catch(h){u(h)}}return Xn.create=e.create,Xn.toCanvas=r.bind(null,n.render),Xn.toDataURL=r.bind(null,n.renderToDataURL),Xn.toString=r.bind(null,function(i,o,a){return s.render(i,a)}),Xn}var yw=bw();const ww=vh(yw),Ew={class:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 py-8 px-4"},Sw={class:"max-w-2xl mx-auto"},Aw={class:"bg-white rounded-2xl shadow-2xl p-8"},Tw=["disabled"],Cw={key:0},Ow={key:1},Rw={key:0,class:"mt-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},Iw={key:1,class:"mt-8 p-6 bg-gray-50 rounded-xl"},kw={class:"flex justify-center mb-6 p-6 bg-white rounded-lg shadow-md"},Pw={class:"mb-4"},xw={class:"flex gap-2"},$w=["value"],Nw={class:"mb-6"},Dw=["href"],Lw={class:"grid grid-cols-2 gap-3"},jw={class:"bg-white p-3 rounded-lg border border-gray-200"},Mw={class:"text-sm font-bold text-gray-800"},Uw={class:"bg-white p-3 rounded-lg border border-gray-200"},Bw={class:"text-sm font-bold text-gray-800"},Fw={__name:"InviteGeneratorView",setup(t){const e=ue("user"),n=ue(24),s=ue(!1),r=ue(""),i=ue(""),o=ue(""),a=ue(null),l=Xe(()=>{const g="/sre/",p=`${window.location.protocol}//${window.location.host}`;return g.endsWith("/")?p+g.slice(0,-1):p+g}),u=Xe(()=>{if(!i.value)return"";const g=`Einladung zur Registrierung bei Stadtranderholung:
${i.value}`;return`https://wa.me/?text=${encodeURIComponent(g)}`});async function c(){s.value=!0,r.value="",i.value="";try{const{data:{session:g}}=await we.auth.getSession();if(!g)throw new Error("Nicht autorisiert");const p="https://prlivcmqjqjypclkcovl.supabase.co".replace(".co",".co/functions/v1"),v=await fetch(`${p}/invite-generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBybGl2Y21xanFqeXBjbGtjb3ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDcwMTIsImV4cCI6MjA2OTcyMzAxMn0.cQds_3P7_fBKQ3iiaw82PNP1HxIqS_fN4aAux3ywDWM"},body:JSON.stringify({role:e.value,expiresInHours:n.value})});if(!v.ok){const w=await v.json();throw new Error(w.error||`HTTP error! status: ${v.status}`)}const E=await v.json();i.value=`${l.value}/welcome?invite=${E.inviteToken}`,o.value=E.expiresAt,await Si(async()=>{await d()})}catch(g){console.error("Generierungsfehler:",g),r.value=g.message}finally{s.value=!1}}async function d(){if(a.value){a.value.innerHTML="";try{const g=document.createElement("canvas");await ww.toCanvas(g,i.value,{width:256,margin:2,color:{dark:"#4F46E5",light:"#FFFFFF"}}),a.value.appendChild(g)}catch(g){console.error("Fehler beim Erstellen des QR-Codes:",g)}}}async function f(){try{await navigator.clipboard.writeText(i.value),alert("✓ Link wurde in die Zwischenablage kopiert!")}catch(g){console.error("Kopieren fehlgeschlagen:",g),alert("Kopieren fehlgeschlagen. Bitte manuell kopieren.")}}function h(g){return g?new Date(g).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}return(g,p)=>(oe(),ae("div",Ew,[T("div",Sw,[T("div",Aw,[p[12]||(p[12]=Lg('<h1 class="text-3xl font-bold text-gray-800 mb-2 text-center"> 🎟️ Einladungsgenerator </h1><p class="text-gray-600 text-center mb-8"> Erstellung von Links zur Registrierung neuer Benutzer </p><div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><span class="text-yellow-400 text-xl">⚠️</span></div><div class="ml-3"><p class="text-sm text-yellow-700"><strong>Achtung!</strong> Einladungen gewähren Zugang zum System. Senden Sie diese nur an vertrauenswürdige Personen. </p></div></div></div>',3)),T("form",{onSubmit:Ka(c,["prevent"]),class:"space-y-6"},[T("div",null,[p[3]||(p[3]=T("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Benutzerrolle ",-1)),ft(T("select",{"onUpdate:modelValue":p[0]||(p[0]=v=>e.value=v),required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},[...p[2]||(p[2]=[T("option",{value:"user"},"Betreuer (user)",-1),T("option",{value:"admin"},"HauptBetreuer (admin)",-1)])],512),[[Zl,e.value]])]),T("div",null,[p[5]||(p[5]=T("label",{class:"block text-sm font-semibold text-gray-700 mb-2"}," Gültigkeitsdauer ",-1)),ft(T("select",{"onUpdate:modelValue":p[1]||(p[1]=v=>n.value=v),required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},[...p[4]||(p[4]=[T("option",{value:1},"1 Stunde",-1),T("option",{value:24},"24 Stunden (1 Tag)",-1),T("option",{value:72},"72 Stunden (3 Tage)",-1),T("option",{value:168},"168 Stunden (7 Tage)",-1)])],512),[[Zl,n.value]])]),T("button",{type:"submit",disabled:s.value,class:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[s.value?(oe(),ae("span",Cw,"⏳ Generierung...")):(oe(),ae("span",Ow,"✨ QR-Code generieren"))],8,Tw)],32),r.value?(oe(),ae("div",Rw," ❌ "+Ft(r.value),1)):Rt("",!0),i.value?(oe(),ae("div",Iw,[p[10]||(p[10]=T("div",{class:"inline-block bg-green-500 text-white px-4 py-1 rounded-full text-sm font-semibold mb-4"}," ✓ Erfolgreich erstellt ",-1)),p[11]||(p[11]=T("h3",{class:"text-xl font-semibold text-gray-800 mb-4 text-center"}," QR-Code zur Registrierung ",-1)),T("div",kw,[T("div",{ref_key:"qrcodeContainer",ref:a},null,512)]),T("div",Pw,[p[6]||(p[6]=T("div",{class:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide"}," Registrierungslink ",-1)),T("div",xw,[T("input",{value:i.value,readonly:"",class:"flex-1 px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-sm font-mono text-gray-700"},null,8,$w),T("button",{onClick:f,class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-sm"}," 📋 Kopieren ")])]),T("div",Nw,[T("a",{href:u.value,target:"_blank",class:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold"},[...p[7]||(p[7]=[T("span",{class:"text-xl"},"📱",-1),Ot(" Über WhatsApp senden ",-1)])],8,Dw)]),T("div",Lw,[T("div",jw,[p[8]||(p[8]=T("div",{class:"text-xs font-semibold text-gray-500 uppercase mb-1"}," Rolle ",-1)),T("div",Mw,Ft(e.value==="admin"?"Administrator":"Benutzer"),1)]),T("div",Uw,[p[9]||(p[9]=T("div",{class:"text-xs font-semibold text-gray-500 uppercase mb-1"}," Läuft ab ",-1)),T("div",Bw,Ft(h(o.value)),1)])])])):Rt("",!0)])])]))}},Vw={class:"min-vh-100 d-flex align-items-center justify-content-center py-4",style:{background:"linear-gradient(135deg, #e8f5e9 0%, #bbdefb 100%)"}},Hw={class:"container"},qw={class:"row justify-content-center"},Ww={class:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5"},Kw={class:"card shadow-lg border-0 rounded-4"},zw={class:"card-body p-4 p-sm-5"},Gw={key:0,class:"text-center py-5"},Jw={class:"mb-3"},Yw={class:"mb-3"},Qw={class:"mb-3"},Xw={class:"mb-3"},Zw={class:"mb-4"},e0={key:0,class:"alert alert-danger d-flex align-items-start py-2 mb-3",role:"alert"},t0={key:1,class:"alert alert-success d-flex align-items-center py-2 mb-3",role:"alert"},n0=["disabled"],s0={key:0},r0={key:1},i0={key:2},o0={key:2,class:"mt-4 text-center"},a0={__name:"WelcomeView",setup(t){const e=Ja(),n=ue(null),s=ue(""),r=ue(""),i=ue(""),o=ue(""),a=ue(""),l=ue(!1),u=ue(""),c=ue(!1);Nn(()=>{const f=new URLSearchParams(window.location.search);n.value=f.get("invite"),n.value||console.error("⚠️ Einladungstoken nicht in der URL gefunden")});async function d(){if(u.value="",o.value!==a.value){u.value="Passwörter stimmen nicht überein";return}if(o.value.length<8){u.value="Das Passwort muss mindestens 8 Zeichen enthalten";return}l.value=!0;try{const f="https://prlivcmqjqjypclkcovl.supabase.co".replace(".co",".co/functions/v1"),h=await fetch(`${f}/invite-accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBybGl2Y21xanFqeXBjbGtjb3ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDcwMTIsImV4cCI6MjA2OTcyMzAxMn0.cQds_3P7_fBKQ3iiaw82PNP1HxIqS_fN4aAux3ywDWM"},body:JSON.stringify({token:n.value,email:r.value,password:o.value,name:s.value,phone:i.value})}),g=await h.json();if(!h.ok)throw new Error(g.error||"Registrierungsfehler");c.value=!0,console.log("✅ Benutzer erfolgreich registriert"),setTimeout(async()=>{try{const{error:p}=await we.auth.signInWithPassword({email:r.value,password:o.value});if(p)throw p;await e.push("/info")}catch(p){console.error("Fehler bei der automatischen Anmeldung:",p),await e.push("/login")}},1500)}catch(f){console.error("Registrierungsfehler:",f),u.value=f.message}finally{l.value=!1}}return(f,h)=>{const g=Qo("router-link");return oe(),ae("div",Vw,[T("div",Hw,[T("div",qw,[T("div",Ww,[T("div",Kw,[T("div",zw,[h[17]||(h[17]=T("div",{class:"text-center mb-4"},[T("h1",{class:"h3 fw-bold text-success mb-2"}," 🌳 Willkommen! "),T("p",{class:"text-muted"}," Registrierung bei Stadtranderholung ")],-1)),n.value?(oe(),ae("form",{key:1,onSubmit:Ka(d,["prevent"]),class:"needs-validation",novalidate:""},[T("div",Jw,[h[6]||(h[6]=T("label",{for:"name",class:"form-label fw-semibold"},"Name",-1)),ft(T("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>s.value=p),id:"name",type:"text",required:"",placeholder:"Geben Sie Ihren Namen ein",class:"form-control form-control-lg"},null,512),[[on,s.value]])]),T("div",Yw,[h[7]||(h[7]=T("label",{for:"email",class:"form-label fw-semibold"},"Email",-1)),ft(T("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>r.value=p),id:"email",type:"email",required:"",placeholder:"example@email.com",autocomplete:"username",class:"form-control form-control-lg"},null,512),[[on,r.value]])]),T("div",Qw,[h[8]||(h[8]=T("label",{for:"phone",class:"form-label fw-semibold"},"Telefon",-1)),ft(T("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>i.value=p),id:"phone",type:"tel",required:"",placeholder:"+49 123 456789",class:"form-control form-control-lg"},null,512),[[on,i.value]])]),T("div",Xw,[h[9]||(h[9]=T("label",{for:"password",class:"form-label fw-semibold"},"Passwort",-1)),ft(T("input",{"onUpdate:modelValue":h[3]||(h[3]=p=>o.value=p),id:"password",type:"password",required:"",minlength:"8",placeholder:"Mindestens 8 Zeichen",autocomplete:"new-password",class:"form-control form-control-lg"},null,512),[[on,o.value]]),h[10]||(h[10]=T("div",{class:"form-text"},"Mindestens 8 Zeichen erforderlich",-1))]),T("div",Zw,[h[11]||(h[11]=T("label",{for:"confirmPassword",class:"form-label fw-semibold"},"Passwort bestätigen",-1)),ft(T("input",{"onUpdate:modelValue":h[4]||(h[4]=p=>a.value=p),id:"confirmPassword",type:"password",required:"",minlength:"8",placeholder:"Wiederholen Sie das Passwort",autocomplete:"new-password",class:"form-control form-control-lg"},null,512),[[on,a.value]])]),u.value?(oe(),ae("div",e0,[h[12]||(h[12]=T("span",{class:"me-2"},"⚠️",-1)),T("div",null,Ft(u.value),1)])):Rt("",!0),c.value?(oe(),ae("div",t0,[...h[13]||(h[13]=[T("span",{class:"me-2"},"✅",-1),T("div",null,"Registrierung erfolgreich! Weiterleitung...",-1)])])):Rt("",!0),T("button",{type:"submit",disabled:l.value||c.value,class:"btn btn-success btn-lg w-100 fw-semibold"},[l.value?(oe(),ae("span",s0,[...h[14]||(h[14]=[T("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),Ot(" Konto wird erstellt... ",-1)])])):c.value?(oe(),ae("span",r0,"✓ Fertig!")):(oe(),ae("span",i0,"🚀 Konto erstellen"))],8,n0)],32)):(oe(),ae("div",Gw,[...h[5]||(h[5]=[T("div",{class:"display-1 mb-3"},"⚠️",-1),T("h5",{class:"text-danger fw-semibold mb-2"}," Einladungstoken fehlt ",-1),T("p",{class:"text-muted"}," Überprüfen Sie die Richtigkeit des Links ",-1)])])),n.value?(oe(),ae("div",o0,[h[16]||(h[16]=T("p",{class:"text-muted small mb-1"},"Haben Sie bereits ein Konto?",-1)),Ie(g,{to:"/login",class:"text-success fw-semibold text-decoration-none"},{default:Ks(()=>[...h[15]||(h[15]=[Ot(" Anmelden → ",-1)])]),_:1})])):Rt("",!0)])])])])])])}}},l0=Pi(a0,[["__scopeId","data-v-1f4707c3"]]),c0=[{path:"/login",name:"Login",component:Xy,meta:{public:!0}},{path:"/welcome",name:"Welcome",component:l0,meta:{public:!0}},{path:"/",redirect:"/info"},{path:"/info",name:"Info",component:Cy,meta:{requiresAuth:!1}},{path:"/config",name:"Config",component:Dy,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/invite",name:"InviteGenerator",component:Fw,meta:{requiresAuth:!0,requiresAdmin:!0}}],Gh=A_({history:Zm("/sre/"),routes:c0});Gh.beforeEach(async(t,e,n)=>{if(t.meta.public)return n();if(t.meta.requiresAuth)try{const{data:{session:s}}=await we.auth.getSession();if(!s)return console.log("🚫 Keine aktive Sitzung gefunden, leite zu Login weiter"),n("/login");const{data:r,error:i}=await we.from("users").select("role, active").eq("user_id",s.user.id).single();return i||!r?(console.error("❌ Fehler beim Abrufen der Benutzerdaten:",i),await we.auth.signOut(),n("/login")):r.active?t.meta.requiresAdmin&&r.role!=="admin"?(console.log("⛔ Zugriff verweigert: Rolle 'admin' erforderlich"),alert("⛔ Zugriff verweigert: Nur für Administratoren!"),n("/info")):(we.from("users").update({last_seen_date:new Date().toISOString()}).eq("user_id",s.user.id).then(()=>console.log("📅 Zeit des letzten Besuchs aktualisiert")),n()):(console.log("⛔ Konto ist deaktiviert"),await we.auth.signOut(),alert("Ihr Konto ist deaktiviert"),n("/login"))}catch(s){return console.error("❌ Fehler bei der Berechtigungsprüfung:",s),n("/login")}n()});function u0(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=t;let a,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await Rs(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sre/sw.js",{scope:"/sre/",type:"classic"})).catch(d=>{o?.(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||s?.()}),a.register({immediate:e}).then(d=>{i?i("/sre/sw.js",d):r?.(d)}).catch(d=>{o?.(d)})}}return l=c(),u}var Ve="top",tt="bottom",nt="right",He="left",xi="auto",ks=[Ve,tt,nt,He],Pn="start",ys="end",Jh="clippingParents",nl="viewport",is="popper",Yh="reference",ba=ks.reduce(function(t,e){return t.concat([e+"-"+Pn,e+"-"+ys])},[]),sl=[].concat(ks,[xi]).reduce(function(t,e){return t.concat([e,e+"-"+Pn,e+"-"+ys])},[]),Qh="beforeRead",Xh="read",Zh="afterRead",ef="beforeMain",tf="main",nf="afterMain",sf="beforeWrite",rf="write",of="afterWrite",af=[Qh,Xh,Zh,ef,tf,nf,sf,rf,of];function Nt(t){return t?(t.nodeName||"").toLowerCase():null}function st(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xn(t){var e=st(t).Element;return t instanceof e||t instanceof Element}function ot(t){var e=st(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rl(t){if(typeof ShadowRoot>"u")return!1;var e=st(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function d0(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!ot(i)||!Nt(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function h0(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(l,u){return l[u]="",l},{});!ot(r)||!Nt(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const il={name:"applyStyles",enabled:!0,phase:"write",fn:d0,effect:h0,requires:["computeStyles"]};function kt(t){return t.split("-")[0]}var kn=Math.max,fi=Math.min,ws=Math.round;function ya(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lf(){return!/^((?!chrome|android).)*safari/i.test(ya())}function Es(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&ot(t)&&(r=t.offsetWidth>0&&ws(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&ws(s.height)/t.offsetHeight||1);var o=xn(t)?st(t):window,a=o.visualViewport,l=!lf()&&n,u=(s.left+(l&&a?a.offsetLeft:0))/r,c=(s.top+(l&&a?a.offsetTop:0))/i,d=s.width/r,f=s.height/i;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function ol(t){var e=Es(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function cf(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&rl(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function zt(t){return st(t).getComputedStyle(t)}function f0(t){return["table","td","th"].indexOf(Nt(t))>=0}function gn(t){return((xn(t)?t.ownerDocument:t.document)||window.document).documentElement}function $i(t){return Nt(t)==="html"?t:t.assignedSlot||t.parentNode||(rl(t)?t.host:null)||gn(t)}function yu(t){return!ot(t)||zt(t).position==="fixed"?null:t.offsetParent}function p0(t){var e=/firefox/i.test(ya()),n=/Trident/i.test(ya());if(n&&ot(t)){var s=zt(t);if(s.position==="fixed")return null}var r=$i(t);for(rl(r)&&(r=r.host);ot(r)&&["html","body"].indexOf(Nt(r))<0;){var i=zt(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Ar(t){for(var e=st(t),n=yu(t);n&&f0(n)&&zt(n).position==="static";)n=yu(n);return n&&(Nt(n)==="html"||Nt(n)==="body"&&zt(n).position==="static")?e:n||p0(t)||e}function al(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rr(t,e,n){return kn(t,fi(e,n))}function g0(t,e,n){var s=rr(t,e,n);return s>n?n:s}function uf(){return{top:0,right:0,bottom:0,left:0}}function df(t){return Object.assign({},uf(),t)}function hf(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var m0=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,df(typeof e!="number"?e:hf(e,ks))};function _0(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=kt(n.placement),l=al(a),u=[He,nt].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var d=m0(r.padding,n),f=ol(i),h=l==="y"?Ve:He,g=l==="y"?tt:nt,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],v=o[l]-n.rects.reference[l],E=Ar(i),w=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,b=p/2-v/2,y=d[h],$=w-f[c]-d[g],A=w/2-f[c]/2+b,R=rr(y,A,$),L=l;n.modifiersData[s]=(e={},e[L]=R,e.centerOffset=R-A,e)}}function v0(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||cf(e.elements.popper,r)&&(e.elements.arrow=r))}const ff={name:"arrow",enabled:!0,phase:"main",fn:_0,effect:v0,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ss(t){return t.split("-")[1]}var b0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function y0(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:ws(n*r)/r||0,y:ws(s*r)/r||0}}function wu(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,g=o.y,p=g===void 0?0:g,v=typeof c=="function"?c({x:h,y:p}):{x:h,y:p};h=v.x,p=v.y;var E=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),b=He,y=Ve,$=window;if(u){var A=Ar(n),R="clientHeight",L="clientWidth";if(A===st(n)&&(A=gn(n),zt(A).position!=="static"&&a==="absolute"&&(R="scrollHeight",L="scrollWidth")),A=A,r===Ve||(r===He||r===nt)&&i===ys){y=tt;var N=d&&A===$&&$.visualViewport?$.visualViewport.height:A[R];p-=N-s.height,p*=l?1:-1}if(r===He||(r===Ve||r===tt)&&i===ys){b=nt;var F=d&&A===$&&$.visualViewport?$.visualViewport.width:A[L];h-=F-s.width,h*=l?1:-1}}var V=Object.assign({position:a},u&&b0),W=c===!0?y0({x:h,y:p},st(n)):{x:h,y:p};if(h=W.x,p=W.y,l){var B;return Object.assign({},V,(B={},B[y]=w?"0":"",B[b]=E?"0":"",B.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",B))}return Object.assign({},V,(e={},e[y]=w?p+"px":"",e[b]=E?h+"px":"",e.transform="",e))}function w0(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:kt(e.placement),variation:Ss(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wu(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wu(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ll={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:w0,data:{}};var jr={passive:!0};function E0(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,l=st(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,jr)}),a&&l.addEventListener("resize",n.update,jr),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,jr)}),a&&l.removeEventListener("resize",n.update,jr)}}const cl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E0,data:{}};var S0={left:"right",right:"left",bottom:"top",top:"bottom"};function Jr(t){return t.replace(/left|right|bottom|top/g,function(e){return S0[e]})}var A0={start:"end",end:"start"};function Eu(t){return t.replace(/start|end/g,function(e){return A0[e]})}function ul(t){var e=st(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function dl(t){return Es(gn(t)).left+ul(t).scrollLeft}function T0(t,e){var n=st(t),s=gn(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;var u=lf();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a+dl(t),y:l}}function C0(t){var e,n=gn(t),s=ul(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=kn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=kn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+dl(t),l=-s.scrollTop;return zt(r||n).direction==="rtl"&&(a+=kn(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function hl(t){var e=zt(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function pf(t){return["html","body","#document"].indexOf(Nt(t))>=0?t.ownerDocument.body:ot(t)&&hl(t)?t:pf($i(t))}function ir(t,e){var n;e===void 0&&(e=[]);var s=pf(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=st(s),o=r?[i].concat(i.visualViewport||[],hl(s)?s:[]):s,a=e.concat(o);return r?a:a.concat(ir($i(o)))}function wa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function O0(t,e){var n=Es(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Su(t,e,n){return e===nl?wa(T0(t,n)):xn(e)?O0(e,n):wa(C0(gn(t)))}function R0(t){var e=ir($i(t)),n=["absolute","fixed"].indexOf(zt(t).position)>=0,s=n&&ot(t)?Ar(t):t;return xn(s)?e.filter(function(r){return xn(r)&&cf(r,s)&&Nt(r)!=="body"}):[]}function I0(t,e,n,s){var r=e==="clippingParents"?R0(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(l,u){var c=Su(t,u,s);return l.top=kn(c.top,l.top),l.right=fi(c.right,l.right),l.bottom=fi(c.bottom,l.bottom),l.left=kn(c.left,l.left),l},Su(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gf(t){var e=t.reference,n=t.element,s=t.placement,r=s?kt(s):null,i=s?Ss(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Ve:l={x:o,y:e.y-n.height};break;case tt:l={x:o,y:e.y+e.height};break;case nt:l={x:e.x+e.width,y:a};break;case He:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?al(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Pn:l[u]=l[u]-(e[c]/2-n[c]/2);break;case ys:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function As(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?Jh:a,u=n.rootBoundary,c=u===void 0?nl:u,d=n.elementContext,f=d===void 0?is:d,h=n.altBoundary,g=h===void 0?!1:h,p=n.padding,v=p===void 0?0:p,E=df(typeof v!="number"?v:hf(v,ks)),w=f===is?Yh:is,b=t.rects.popper,y=t.elements[g?w:f],$=I0(xn(y)?y:y.contextElement||gn(t.elements.popper),l,c,o),A=Es(t.elements.reference),R=gf({reference:A,element:b,placement:r}),L=wa(Object.assign({},b,R)),N=f===is?L:A,F={top:$.top-N.top+E.top,bottom:N.bottom-$.bottom+E.bottom,left:$.left-N.left+E.left,right:N.right-$.right+E.right},V=t.modifiersData.offset;if(f===is&&V){var W=V[r];Object.keys(F).forEach(function(B){var G=[nt,tt].indexOf(B)>=0?1:-1,be=[Ve,tt].indexOf(B)>=0?"y":"x";F[B]+=W[be]*G})}return F}function k0(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?sl:l,c=Ss(s),d=c?a?ba:ba.filter(function(g){return Ss(g)===c}):ks,f=d.filter(function(g){return u.indexOf(g)>=0});f.length===0&&(f=d);var h=f.reduce(function(g,p){return g[p]=As(t,{placement:p,boundary:r,rootBoundary:i,padding:o})[kt(p)],g},{});return Object.keys(h).sort(function(g,p){return h[g]-h[p]})}function P0(t){if(kt(t)===xi)return[];var e=Jr(t);return[Eu(t),e,Eu(e)]}function x0(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,p=n.allowedAutoPlacements,v=e.options.placement,E=kt(v),w=E===v,b=l||(w||!g?[Jr(v)]:P0(v)),y=[v].concat(b).reduce(function(Ue,xe){return Ue.concat(kt(xe)===xi?k0(e,{placement:xe,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:p}):xe)},[]),$=e.rects.reference,A=e.rects.popper,R=new Map,L=!0,N=y[0],F=0;F<y.length;F++){var V=y[F],W=kt(V),B=Ss(V)===Pn,G=[Ve,tt].indexOf(W)>=0,be=G?"width":"height",se=As(e,{placement:V,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),ne=G?B?nt:He:B?tt:Ve;$[be]>A[be]&&(ne=Jr(ne));var re=Jr(ne),Ce=[];if(i&&Ce.push(se[W]<=0),a&&Ce.push(se[ne]<=0,se[re]<=0),Ce.every(function(Ue){return Ue})){N=V,L=!1;break}R.set(V,Ce)}if(L)for(var Pe=g?3:1,Oe=function(xe){var Ee=y.find(function(C){var j=R.get(C);if(j)return j.slice(0,xe).every(function(M){return M})});if(Ee)return N=Ee,"break"},ye=Pe;ye>0;ye--){var Me=Oe(ye);if(Me==="break")break}e.placement!==N&&(e.modifiersData[s]._skip=!0,e.placement=N,e.reset=!0)}}const mf={name:"flip",enabled:!0,phase:"main",fn:x0,requiresIfExists:["offset"],data:{_skip:!1}};function Au(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Tu(t){return[Ve,nt,tt,He].some(function(e){return t[e]>=0})}function $0(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=As(e,{elementContext:"reference"}),a=As(e,{altBoundary:!0}),l=Au(o,s),u=Au(a,r,i),c=Tu(l),d=Tu(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const _f={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$0};function N0(t,e,n){var s=kt(t),r=[He,Ve].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[He,nt].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function D0(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=sl.reduce(function(c,d){return c[d]=N0(d,e.rects,i),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=o}const vf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:D0};function L0(t){var e=t.state,n=t.name;e.modifiersData[n]=gf({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const fl={name:"popperOffsets",enabled:!0,phase:"read",fn:L0,data:{}};function j0(t){return t==="x"?"y":"x"}function M0(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,g=n.tetherOffset,p=g===void 0?0:g,v=As(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),E=kt(e.placement),w=Ss(e.placement),b=!w,y=al(E),$=j0(y),A=e.modifiersData.popperOffsets,R=e.rects.reference,L=e.rects.popper,N=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(A){if(i){var B,G=y==="y"?Ve:He,be=y==="y"?tt:nt,se=y==="y"?"height":"width",ne=A[y],re=ne+v[G],Ce=ne-v[be],Pe=h?-L[se]/2:0,Oe=w===Pn?R[se]:L[se],ye=w===Pn?-L[se]:-R[se],Me=e.elements.arrow,Ue=h&&Me?ol(Me):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uf(),Ee=xe[G],C=xe[be],j=rr(0,R[se],Ue[se]),M=b?R[se]/2-Pe-j-Ee-F.mainAxis:Oe-j-Ee-F.mainAxis,K=b?-R[se]/2+Pe+j+C+F.mainAxis:ye+j+C+F.mainAxis,ce=e.elements.arrow&&Ar(e.elements.arrow),m=ce?y==="y"?ce.clientTop||0:ce.clientLeft||0:0,_=(B=V?.[y])!=null?B:0,S=ne+M-_-m,I=ne+K-_,k=rr(h?fi(re,S):re,ne,h?kn(Ce,I):Ce);A[y]=k,W[y]=k-ne}if(a){var O,H=y==="x"?Ve:He,U=y==="x"?tt:nt,D=A[$],x=$==="y"?"height":"width",J=D+v[H],q=D-v[U],z=[Ve,He].indexOf(E)!==-1,Z=(O=V?.[$])!=null?O:0,ie=z?J:D-R[x]-L[x]-Z+F.altAxis,pe=z?D+R[x]+L[x]-Z-F.altAxis:q,le=h&&z?g0(ie,D,pe):rr(h?ie:J,D,h?pe:q);A[$]=le,W[$]=le-D}e.modifiersData[s]=W}}const bf={name:"preventOverflow",enabled:!0,phase:"main",fn:M0,requiresIfExists:["offset"]};function U0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function B0(t){return t===st(t)||!ot(t)?ul(t):U0(t)}function F0(t){var e=t.getBoundingClientRect(),n=ws(e.width)/t.offsetWidth||1,s=ws(e.height)/t.offsetHeight||1;return n!==1||s!==1}function V0(t,e,n){n===void 0&&(n=!1);var s=ot(e),r=ot(e)&&F0(e),i=gn(e),o=Es(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((Nt(e)!=="body"||hl(i))&&(a=B0(e)),ot(e)?(l=Es(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=dl(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function H0(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function q0(t){var e=H0(t);return af.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function W0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function K0(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Cu={placement:"bottom",modifiers:[],strategy:"absolute"};function Ou(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ni(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?Cu:r;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cu,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(E){var w=typeof E=="function"?E(c.options):E;p(),c.options=Object.assign({},i,c.options,w),c.scrollParents={reference:xn(a)?ir(a):a.contextElement?ir(a.contextElement):[],popper:ir(l)};var b=q0(K0([].concat(s,c.options.modifiers)));return c.orderedModifiers=b.filter(function(y){return y.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var E=c.elements,w=E.reference,b=E.popper;if(Ou(w,b)){c.rects={reference:V0(w,Ar(b),c.options.strategy==="fixed"),popper:ol(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(F){return c.modifiersData[F.name]=Object.assign({},F.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var $=c.orderedModifiers[y],A=$.fn,R=$.options,L=R===void 0?{}:R,N=$.name;typeof A=="function"&&(c=A({state:c,options:L,name:N,instance:h})||c)}}}},update:W0(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){p(),f=!0}};if(!Ou(a,l))return h;h.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function g(){c.orderedModifiers.forEach(function(v){var E=v.name,w=v.options,b=w===void 0?{}:w,y=v.effect;if(typeof y=="function"){var $=y({state:c,name:E,instance:h,options:b}),A=function(){};d.push($||A)}})}function p(){d.forEach(function(v){return v()}),d=[]}return h}}var z0=Ni(),G0=[cl,fl,ll,il],J0=Ni({defaultModifiers:G0}),Y0=[cl,fl,ll,il,vf,mf,bf,ff,_f],pl=Ni({defaultModifiers:Y0});const yf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nf,afterRead:Zh,afterWrite:of,applyStyles:il,arrow:ff,auto:xi,basePlacements:ks,beforeMain:ef,beforeRead:Qh,beforeWrite:sf,bottom:tt,clippingParents:Jh,computeStyles:ll,createPopper:pl,createPopperBase:z0,createPopperLite:J0,detectOverflow:As,end:ys,eventListeners:cl,flip:mf,hide:_f,left:He,main:tf,modifierPhases:af,offset:vf,placements:sl,popper:is,popperGenerator:Ni,popperOffsets:fl,preventOverflow:bf,read:Xh,reference:Yh,right:nt,start:Pn,top:Ve,variationPlacements:ba,viewport:nl,write:rf},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Zt=new Map,ko={set(t,e,n){Zt.has(t)||Zt.set(t,new Map);const s=Zt.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Zt.has(t)&&Zt.get(t).get(e)||null},remove(t,e){if(!Zt.has(t))return;const n=Zt.get(t);n.delete(e),n.size===0&&Zt.delete(t)}},Q0=1e6,X0=1e3,Ea="transitionend",wf=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Z0=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),eE=t=>{do t+=Math.floor(Math.random()*Q0);while(document.getElementById(t));return t},tE=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),r=Number.parseFloat(n);return!s&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*X0)},Ef=t=>{t.dispatchEvent(new Event(Ea))},Ht=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),dn=t=>Ht(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(wf(t)):null,Ps=t=>{if(!Ht(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},hn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Sf=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Sf(t.parentNode):null},pi=()=>{},Tr=t=>{t.offsetHeight},Af=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Po=[],nE=t=>{document.readyState==="loading"?(Po.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Po)e()}),Po.push(t)):t()},lt=()=>document.documentElement.dir==="rtl",ut=t=>{nE(()=>{const e=Af();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Ge=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,Tf=(t,e,n=!0)=>{if(!n){Ge(t);return}const r=tE(e)+5;let i=!1;const o=({target:a})=>{a===e&&(i=!0,e.removeEventListener(Ea,o),Ge(t))};e.addEventListener(Ea,o),setTimeout(()=>{i||Ef(e)},r)},gl=(t,e,n,s)=>{const r=t.length;let i=t.indexOf(e);return i===-1?!n&&s?t[r-1]:t[0]:(i+=n?1:-1,s&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])},sE=/[^.]*(?=\..*)\.|.*/,rE=/\..*/,iE=/::\d+$/,xo={};let Ru=1;const Cf={mouseenter:"mouseover",mouseleave:"mouseout"},oE=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Of(t,e){return e&&`${e}::${Ru++}`||t.uidEvent||Ru++}function Rf(t){const e=Of(t);return t.uidEvent=e,xo[e]=xo[e]||{},xo[e]}function aE(t,e){return function n(s){return ml(s,{delegateTarget:t}),n.oneOff&&P.off(t,s.type,e),e.apply(t,[s])}}function lE(t,e,n){return function s(r){const i=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of i)if(a===o)return ml(r,{delegateTarget:o}),s.oneOff&&P.off(t,r.type,e,n),n.apply(o,[r])}}function If(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function kf(t,e,n){const s=typeof e=="string",r=s?n:e||n;let i=Pf(t);return oE.has(i)||(i=t),[s,r,i]}function Iu(t,e,n,s,r){if(typeof e!="string"||!t)return;let[i,o,a]=kf(e,n,s);e in Cf&&(o=(g=>function(p){if(!p.relatedTarget||p.relatedTarget!==p.delegateTarget&&!p.delegateTarget.contains(p.relatedTarget))return g.call(this,p)})(o));const l=Rf(t),u=l[a]||(l[a]={}),c=If(u,o,i?n:null);if(c){c.oneOff=c.oneOff&&r;return}const d=Of(o,e.replace(sE,"")),f=i?lE(t,n,o):aE(t,o);f.delegationSelector=i?n:null,f.callable=o,f.oneOff=r,f.uidEvent=d,u[d]=f,t.addEventListener(a,f,i)}function Sa(t,e,n,s,r){const i=If(e[n],s,r);i&&(t.removeEventListener(n,i,!!r),delete e[n][i.uidEvent])}function cE(t,e,n,s){const r=e[n]||{};for(const[i,o]of Object.entries(r))i.includes(s)&&Sa(t,e,n,o.callable,o.delegationSelector)}function Pf(t){return t=t.replace(rE,""),Cf[t]||t}const P={on(t,e,n,s){Iu(t,e,n,s,!1)},one(t,e,n,s){Iu(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[r,i,o]=kf(e,n,s),a=o!==e,l=Rf(t),u=l[o]||{},c=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(u).length)return;Sa(t,l,o,i,r?n:null);return}if(c)for(const d of Object.keys(l))cE(t,l,d,e.slice(1));for(const[d,f]of Object.entries(u)){const h=d.replace(iE,"");(!a||e.includes(h))&&Sa(t,l,o,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=Af(),r=Pf(e),i=e!==r;let o=null,a=!0,l=!0,u=!1;i&&s&&(o=s.Event(e,n),s(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());const c=ml(new Event(e,{bubbles:a,cancelable:!0}),n);return u&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function ml(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function ku(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function $o(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const qt={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${$o(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${$o(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1),e[r]=ku(t.dataset[s])}return e},getDataAttribute(t,e){return ku(t.getAttribute(`data-bs-${$o(e)}`))}};class Cr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Ht(n)?qt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ht(n)?qt.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,r]of Object.entries(n)){const i=e[s],o=Ht(i)?"element":Z0(i);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${r}".`)}}}const uE="5.3.8";class _t extends Cr{constructor(e,n){super(),e=dn(e),e&&(this._element=e,this._config=this._getConfig(n),ko.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ko.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){Tf(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ko.get(dn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return uE}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const No=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>wf(n)).join(","):null},Y={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!hn(n)&&Ps(n))},getSelectorFromElement(t){const e=No(t);return e&&Y.findOne(e)?e:null},getElementFromSelector(t){const e=No(t);return e?Y.findOne(e):null},getMultipleElementsFromSelector(t){const e=No(t);return e?Y.find(e):[]}},Di=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;P.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),hn(this))return;const i=Y.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(i)[e]()})},dE="alert",hE="bs.alert",xf=`.${hE}`,fE=`close${xf}`,pE=`closed${xf}`,gE="fade",mE="show";class Li extends _t{static get NAME(){return dE}close(){if(P.trigger(this._element,fE).defaultPrevented)return;this._element.classList.remove(mE);const n=this._element.classList.contains(gE);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),P.trigger(this._element,pE),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Li.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Di(Li,"close");ut(Li);const _E="button",vE="bs.button",bE=`.${vE}`,yE=".data-api",wE="active",Pu='[data-bs-toggle="button"]',EE=`click${bE}${yE}`;class ji extends _t{static get NAME(){return _E}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wE))}static jQueryInterface(e){return this.each(function(){const n=ji.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}P.on(document,EE,Pu,t=>{t.preventDefault();const e=t.target.closest(Pu);ji.getOrCreateInstance(e).toggle()});ut(ji);const SE="swipe",xs=".bs.swipe",AE=`touchstart${xs}`,TE=`touchmove${xs}`,CE=`touchend${xs}`,OE=`pointerdown${xs}`,RE=`pointerup${xs}`,IE="touch",kE="pen",PE="pointer-event",xE=40,$E={endCallback:null,leftCallback:null,rightCallback:null},NE={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class gi extends Cr{constructor(e,n){super(),this._element=e,!(!e||!gi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $E}static get DefaultType(){return NE}static get NAME(){return SE}dispose(){P.off(this._element,xs)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ge(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=xE)return;const n=e/this._deltaX;this._deltaX=0,n&&Ge(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,OE,e=>this._start(e)),P.on(this._element,RE,e=>this._end(e)),this._element.classList.add(PE)):(P.on(this._element,AE,e=>this._start(e)),P.on(this._element,TE,e=>this._move(e)),P.on(this._element,CE,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===kE||e.pointerType===IE)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const DE="carousel",LE="bs.carousel",mn=`.${LE}`,$f=".data-api",jE="ArrowLeft",ME="ArrowRight",UE=500,Us="next",Zn="prev",os="left",Yr="right",BE=`slide${mn}`,Do=`slid${mn}`,FE=`keydown${mn}`,VE=`mouseenter${mn}`,HE=`mouseleave${mn}`,qE=`dragstart${mn}`,WE=`load${mn}${$f}`,KE=`click${mn}${$f}`,Nf="carousel",Mr="active",zE="slide",GE="carousel-item-end",JE="carousel-item-start",YE="carousel-item-next",QE="carousel-item-prev",Df=".active",Lf=".carousel-item",XE=Df+Lf,ZE=".carousel-item img",eS=".carousel-indicators",tS="[data-bs-slide], [data-bs-slide-to]",nS='[data-bs-ride="carousel"]',sS={[jE]:Yr,[ME]:os},rS={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},iS={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Or extends _t{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(eS,this._element),this._addEventListeners(),this._config.ride===Nf&&this.cycle()}static get Default(){return rS}static get DefaultType(){return iS}static get NAME(){return DE}next(){this._slide(Us)}nextWhenVisible(){!document.hidden&&Ps(this._element)&&this.next()}prev(){this._slide(Zn)}pause(){this._isSliding&&Ef(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){P.one(this._element,Do,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){P.one(this._element,Do,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?Us:Zn;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&P.on(this._element,FE,e=>this._keydown(e)),this._config.pause==="hover"&&(P.on(this._element,VE,()=>this.pause()),P.on(this._element,HE,()=>this._maybeEnableCycle())),this._config.touch&&gi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Y.find(ZE,this._element))P.on(s,qE,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(os)),rightCallback:()=>this._slide(this._directionToOrder(Yr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),UE+this._config.interval))}};this._swipeHelper=new gi(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=sS[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Y.findOne(Df,this._indicatorsElement);n.classList.remove(Mr),n.removeAttribute("aria-current");const s=Y.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Mr),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),r=e===Us,i=n||gl(this._getItems(),s,r,this._config.wrap);if(i===s)return;const o=this._getItemIndex(i),a=h=>P.trigger(this._element,h,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(BE).defaultPrevented||!s||!i)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const c=r?JE:GE,d=r?YE:QE;i.classList.add(d),Tr(i),s.classList.add(c),i.classList.add(c);const f=()=>{i.classList.remove(c,d),i.classList.add(Mr),s.classList.remove(Mr,d,c),this._isSliding=!1,a(Do)};this._queueCallback(f,s,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(zE)}_getActive(){return Y.findOne(XE,this._element)}_getItems(){return Y.find(Lf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return lt()?e===os?Zn:Us:e===os?Us:Zn}_orderToDirection(e){return lt()?e===Zn?os:Yr:e===Zn?Yr:os}static jQueryInterface(e){return this.each(function(){const n=Or.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(document,KE,tS,function(t){const e=Y.getElementFromSelector(this);if(!e||!e.classList.contains(Nf))return;t.preventDefault();const n=Or.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(qt.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});P.on(window,WE,()=>{const t=Y.find(nS);for(const e of t)Or.getOrCreateInstance(e)});ut(Or);const oS="collapse",aS="bs.collapse",Rr=`.${aS}`,lS=".data-api",cS=`show${Rr}`,uS=`shown${Rr}`,dS=`hide${Rr}`,hS=`hidden${Rr}`,fS=`click${Rr}${lS}`,Lo="show",ls="collapse",Ur="collapsing",pS="collapsed",gS=`:scope .${ls} .${ls}`,mS="collapse-horizontal",_S="width",vS="height",bS=".collapse.show, .collapse.collapsing",Aa='[data-bs-toggle="collapse"]',yS={parent:null,toggle:!0},wS={parent:"(null|element)",toggle:"boolean"};class _r extends _t{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Y.find(Aa);for(const r of s){const i=Y.getSelectorFromElement(r),o=Y.find(i).filter(a=>a===this._element);i!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yS}static get DefaultType(){return wS}static get NAME(){return oS}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(bS).filter(a=>a!==this._element).map(a=>_r.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||P.trigger(this._element,cS).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(ls),this._element.classList.add(Ur),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ur),this._element.classList.add(ls,Lo),this._element.style[s]="",P.trigger(this._element,uS)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,dS).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Tr(this._element),this._element.classList.add(Ur),this._element.classList.remove(ls,Lo);for(const r of this._triggerArray){const i=Y.getElementFromSelector(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Ur),this._element.classList.add(ls),P.trigger(this._element,hS)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Lo)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=dn(e.parent),e}_getDimension(){return this._element.classList.contains(mS)?_S:vS}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Aa);for(const n of e){const s=Y.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Y.find(gS,this._config.parent);return Y.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(pS,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=_r.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}P.on(document,fS,Aa,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Y.getMultipleElementsFromSelector(this))_r.getOrCreateInstance(e,{toggle:!1}).toggle()});ut(_r);const xu="dropdown",ES="bs.dropdown",Mn=`.${ES}`,_l=".data-api",SS="Escape",$u="Tab",AS="ArrowUp",Nu="ArrowDown",TS=2,CS=`hide${Mn}`,OS=`hidden${Mn}`,RS=`show${Mn}`,IS=`shown${Mn}`,jf=`click${Mn}${_l}`,Mf=`keydown${Mn}${_l}`,kS=`keyup${Mn}${_l}`,as="show",PS="dropup",xS="dropend",$S="dropstart",NS="dropup-center",DS="dropdown-center",On='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',LS=`${On}.${as}`,Qr=".dropdown-menu",jS=".navbar",MS=".navbar-nav",US=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",BS=lt()?"top-end":"top-start",FS=lt()?"top-start":"top-end",VS=lt()?"bottom-end":"bottom-start",HS=lt()?"bottom-start":"bottom-end",qS=lt()?"left-start":"right-start",WS=lt()?"right-start":"left-start",KS="top",zS="bottom",GS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},JS={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pt extends _t{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,Qr)[0]||Y.prev(this._element,Qr)[0]||Y.findOne(Qr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return GS}static get DefaultType(){return JS}static get NAME(){return xu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(hn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!P.trigger(this._element,RS,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(MS))for(const s of[].concat(...document.body.children))P.on(s,"mouseover",pi);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(as),this._element.classList.add(as),P.trigger(this._element,IS,e)}}hide(){if(hn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!P.trigger(this._element,CS,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))P.off(s,"mouseover",pi);this._popper&&this._popper.destroy(),this._menu.classList.remove(as),this._element.classList.remove(as),this._element.setAttribute("aria-expanded","false"),qt.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,OS,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ht(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${xu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof yf>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ht(this._config.reference)?e=dn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=pl(e,this._menu,n)}_isShown(){return this._menu.classList.contains(as)}_getPlacement(){const e=this._parent;if(e.classList.contains(xS))return qS;if(e.classList.contains($S))return WS;if(e.classList.contains(NS))return KS;if(e.classList.contains(DS))return zS;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(PS)?n?FS:BS:n?HS:VS}_detectNavbar(){return this._element.closest(jS)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(qt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ge(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Y.find(US,this._menu).filter(r=>Ps(r));s.length&&gl(s,n,e===Nu,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Pt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===TS||e.type==="keyup"&&e.key!==$u)return;const n=Y.find(LS);for(const s of n){const r=Pt.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=e.composedPath(),o=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===$u||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===SS,r=[AS,Nu].includes(e.key);if(!r&&!s||n&&!s)return;e.preventDefault();const i=this.matches(On)?this:Y.prev(this,On)[0]||Y.next(this,On)[0]||Y.findOne(On,e.delegateTarget.parentNode),o=Pt.getOrCreateInstance(i);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}P.on(document,Mf,On,Pt.dataApiKeydownHandler);P.on(document,Mf,Qr,Pt.dataApiKeydownHandler);P.on(document,jf,Pt.clearMenus);P.on(document,kS,Pt.clearMenus);P.on(document,jf,On,function(t){t.preventDefault(),Pt.getOrCreateInstance(this).toggle()});ut(Pt);const Uf="backdrop",YS="fade",Du="show",Lu=`mousedown.bs.${Uf}`,QS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},XS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bf extends Cr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return QS}static get DefaultType(){return XS}static get NAME(){return Uf}show(e){if(!this._config.isVisible){Ge(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Tr(n),n.classList.add(Du),this._emulateAnimation(()=>{Ge(e)})}hide(e){if(!this._config.isVisible){Ge(e);return}this._getElement().classList.remove(Du),this._emulateAnimation(()=>{this.dispose(),Ge(e)})}dispose(){this._isAppended&&(P.off(this._element,Lu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(YS),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=dn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),P.on(e,Lu,()=>{Ge(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Tf(e,this._getElement(),this._config.isAnimated)}}const ZS="focustrap",eA="bs.focustrap",mi=`.${eA}`,tA=`focusin${mi}`,nA=`keydown.tab${mi}`,sA="Tab",rA="forward",ju="backward",iA={autofocus:!0,trapElement:null},oA={autofocus:"boolean",trapElement:"element"};class Ff extends Cr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return iA}static get DefaultType(){return oA}static get NAME(){return ZS}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,mi),P.on(document,tA,e=>this._handleFocusin(e)),P.on(document,nA,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,mi))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Y.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===ju?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===sA&&(this._lastTabNavDirection=e.shiftKey?ju:rA)}}const Mu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Uu=".sticky-top",Br="padding-right",Bu="margin-right";class Ta{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Br,n=>n+e),this._setElementAttributes(Mu,Br,n=>n+e),this._setElementAttributes(Uu,Bu,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Br),this._resetElementAttributes(Mu,Br),this._resetElementAttributes(Uu,Bu)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const r=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&qt.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=r=>{const i=qt.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}qt.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Ht(e)){n(e);return}for(const s of Y.find(e,this._element))n(s)}}const aA="modal",lA="bs.modal",ct=`.${lA}`,cA=".data-api",uA="Escape",dA=`hide${ct}`,hA=`hidePrevented${ct}`,Vf=`hidden${ct}`,Hf=`show${ct}`,fA=`shown${ct}`,pA=`resize${ct}`,gA=`click.dismiss${ct}`,mA=`mousedown.dismiss${ct}`,_A=`keydown.dismiss${ct}`,vA=`click${ct}${cA}`,Fu="modal-open",bA="fade",Vu="show",jo="modal-static",yA=".modal.show",wA=".modal-dialog",EA=".modal-body",SA='[data-bs-toggle="modal"]',AA={backdrop:!0,focus:!0,keyboard:!0},TA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ts extends _t{constructor(e,n){super(e,n),this._dialog=Y.findOne(wA,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ta,this._addEventListeners()}static get Default(){return AA}static get DefaultType(){return TA}static get NAME(){return aA}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||P.trigger(this._element,Hf,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||P.trigger(this._element,dA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Vu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){P.off(window,ct),P.off(this._dialog,ct),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ff({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Y.findOne(EA,this._dialog);n&&(n.scrollTop=0),Tr(this._element),this._element.classList.add(Vu);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,fA,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,_A,e=>{if(e.key===uA){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),P.on(window,pA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,mA,e=>{P.one(this._element,gA,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fu),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,Vf)})}_isAnimated(){return this._element.classList.contains(bA)}_triggerBackdropTransition(){if(P.trigger(this._element,hA).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(jo)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(jo),this._queueCallback(()=>{this._element.classList.remove(jo),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const r=lt()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&e){const r=lt()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Ts.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}P.on(document,vA,SA,function(t){const e=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),P.one(e,Hf,r=>{r.defaultPrevented||P.one(e,Vf,()=>{Ps(this)&&this.focus()})});const n=Y.findOne(yA);n&&Ts.getInstance(n).hide(),Ts.getOrCreateInstance(e).toggle(this)});Di(Ts);ut(Ts);const CA="offcanvas",OA="bs.offcanvas",Jt=`.${OA}`,qf=".data-api",RA=`load${Jt}${qf}`,IA="Escape",Hu="show",qu="showing",Wu="hiding",kA="offcanvas-backdrop",Wf=".offcanvas.show",PA=`show${Jt}`,xA=`shown${Jt}`,$A=`hide${Jt}`,Ku=`hidePrevented${Jt}`,Kf=`hidden${Jt}`,NA=`resize${Jt}`,DA=`click${Jt}${qf}`,LA=`keydown.dismiss${Jt}`,jA='[data-bs-toggle="offcanvas"]',MA={backdrop:!0,keyboard:!0,scroll:!1},UA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class fn extends _t{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return MA}static get DefaultType(){return UA}static get NAME(){return CA}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||P.trigger(this._element,PA,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ta().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qu);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Hu),this._element.classList.remove(qu),P.trigger(this._element,xA,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||P.trigger(this._element,$A).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wu),this._backdrop.hide();const n=()=>{this._element.classList.remove(Hu,Wu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ta().reset(),P.trigger(this._element,Kf)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){P.trigger(this._element,Ku);return}this.hide()},n=!!this._config.backdrop;return new Bf({className:kA,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new Ff({trapElement:this._element})}_addEventListeners(){P.on(this._element,LA,e=>{if(e.key===IA){if(this._config.keyboard){this.hide();return}P.trigger(this._element,Ku)}})}static jQueryInterface(e){return this.each(function(){const n=fn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}P.on(document,DA,jA,function(t){const e=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),hn(this))return;P.one(e,Kf,()=>{Ps(this)&&this.focus()});const n=Y.findOne(Wf);n&&n!==e&&fn.getInstance(n).hide(),fn.getOrCreateInstance(e).toggle(this)});P.on(window,RA,()=>{for(const t of Y.find(Wf))fn.getOrCreateInstance(t).show()});P.on(window,NA,()=>{for(const t of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&fn.getOrCreateInstance(t).hide()});Di(fn);ut(fn);const BA=/^aria-[\w-]*$/i,zf={"*":["class","dir","id","lang","role",BA],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},FA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),VA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,HA=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?FA.has(n)?!!VA.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function qA(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const o of i){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const c of l)HA(c,u)||o.removeAttribute(c.nodeName)}return r.body.innerHTML}const WA="TemplateFactory",KA={allowList:zf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},zA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},GA={entry:"(string|element|function|null)",selector:"(string|element)"};class JA extends Cr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return KA}static get DefaultType(){return zA}static get NAME(){return WA}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},GA)}_setContent(e,n,s){const r=Y.findOne(s,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ht(n)){this._putElementInTemplate(dn(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?qA(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ge(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const YA="tooltip",QA=new Set(["sanitize","allowList","sanitizeFn"]),Mo="fade",XA="modal",Fr="show",ZA=".tooltip-inner",zu=`.${XA}`,Gu="hide.bs.modal",Bs="hover",Uo="focus",Bo="click",eT="manual",tT="hide",nT="hidden",sT="show",rT="shown",iT="inserted",oT="click",aT="focusin",lT="focusout",cT="mouseenter",uT="mouseleave",dT={AUTO:"auto",TOP:"top",RIGHT:lt()?"left":"right",BOTTOM:"bottom",LEFT:lt()?"right":"left"},hT={allowList:zf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fT={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $s extends _t{constructor(e,n){if(typeof yf>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hT}static get DefaultType(){return fT}static get NAME(){return YA}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(zu),Gu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=P.trigger(this._element,this.constructor.eventName(sT)),s=(Sf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),P.trigger(this._element,this.constructor.eventName(iT))),this._popper=this._createPopper(r),r.classList.add(Fr),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))P.on(a,"mouseover",pi);const o=()=>{P.trigger(this._element,this.constructor.eventName(rT)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||P.trigger(this._element,this.constructor.eventName(tT)).defaultPrevented)return;if(this._getTipElement().classList.remove(Fr),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))P.off(r,"mouseover",pi);this._activeTrigger[Bo]=!1,this._activeTrigger[Uo]=!1,this._activeTrigger[Bs]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName(nT)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Mo,Fr),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=eE(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Mo),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new JA({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ZA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mo)}_isShown(){return this.tip&&this.tip.classList.contains(Fr)}_createPopper(e){const n=Ge(this._config.placement,[this,e,this._element]),s=dT[n.toUpperCase()];return pl(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Ge(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Ge(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")P.on(this._element,this.constructor.eventName(oT),this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger[Bo]=!(r._isShown()&&r._activeTrigger[Bo]),r.toggle()});else if(n!==eT){const s=n===Bs?this.constructor.eventName(cT):this.constructor.eventName(aT),r=n===Bs?this.constructor.eventName(uT):this.constructor.eventName(lT);P.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?Uo:Bs]=!0,o._enter()}),P.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?Uo:Bs]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(zu),Gu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=qt.getDataAttributes(this._element);for(const s of Object.keys(n))QA.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:dn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=$s.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ut($s);const pT="popover",gT=".popover-header",mT=".popover-body",_T={...$s.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vT={...$s.DefaultType,content:"(null|string|element|function)"};class vl extends $s{static get Default(){return _T}static get DefaultType(){return vT}static get NAME(){return pT}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gT]:this._getTitle(),[mT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=vl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ut(vl);const bT="scrollspy",yT="bs.scrollspy",bl=`.${yT}`,wT=".data-api",ET=`activate${bl}`,Ju=`click${bl}`,ST=`load${bl}${wT}`,AT="dropdown-item",es="active",TT='[data-bs-spy="scroll"]',Fo="[href]",CT=".nav, .list-group",Yu=".nav-link",OT=".nav-item",RT=".list-group-item",IT=`${Yu}, ${OT} > ${Yu}, ${RT}`,kT=".dropdown",PT=".dropdown-toggle",xT={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$T={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mi extends _t{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xT}static get DefaultType(){return $T}static get NAME(){return bT}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=dn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,Ju),P.on(this._config.target,Ju,Fo,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(s(o),!r)return;continue}!i&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Y.find(Fo,this._config.target);for(const n of e){if(!n.hash||hn(n))continue;const s=Y.findOne(decodeURI(n.hash),this._element);Ps(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(es),this._activateParents(e),P.trigger(this._element,ET,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(AT)){Y.findOne(PT,e.closest(kT)).classList.add(es);return}for(const n of Y.parents(e,CT))for(const s of Y.prev(n,IT))s.classList.add(es)}_clearActiveClass(e){e.classList.remove(es);const n=Y.find(`${Fo}.${es}`,e);for(const s of n)s.classList.remove(es)}static jQueryInterface(e){return this.each(function(){const n=Mi.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(window,ST,()=>{for(const t of Y.find(TT))Mi.getOrCreateInstance(t)});ut(Mi);const NT="tab",DT="bs.tab",Un=`.${DT}`,LT=`hide${Un}`,jT=`hidden${Un}`,MT=`show${Un}`,UT=`shown${Un}`,BT=`click${Un}`,FT=`keydown${Un}`,VT=`load${Un}`,HT="ArrowLeft",Qu="ArrowRight",qT="ArrowUp",Xu="ArrowDown",Vo="Home",Zu="End",Rn="active",ed="fade",Ho="show",WT="dropdown",Gf=".dropdown-toggle",KT=".dropdown-menu",qo=`:not(${Gf})`,zT='.list-group, .nav, [role="tablist"]',GT=".nav-item, .list-group-item",JT=`.nav-link${qo}, .list-group-item${qo}, [role="tab"]${qo}`,Jf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wo=`${JT}, ${Jf}`,YT=`.${Rn}[data-bs-toggle="tab"], .${Rn}[data-bs-toggle="pill"], .${Rn}[data-bs-toggle="list"]`;class Cs extends _t{constructor(e){super(e),this._parent=this._element.closest(zT),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,FT,n=>this._keydown(n)))}static get NAME(){return NT}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?P.trigger(n,LT,{relatedTarget:e}):null;P.trigger(e,MT,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Rn),this._activate(Y.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Ho);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),P.trigger(e,UT,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ed))}_deactivate(e,n){if(!e)return;e.classList.remove(Rn),e.blur(),this._deactivate(Y.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Ho);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),P.trigger(e,jT,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ed))}_keydown(e){if(![HT,Qu,qT,Xu,Vo,Zu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!hn(r));let s;if([Vo,Zu].includes(e.key))s=n[e.key===Vo?0:n.length-1];else{const r=[Qu,Xu].includes(e.key);s=gl(n,e.target,r,!0)}s&&(s.focus({preventScroll:!0}),Cs.getOrCreateInstance(s).show())}_getChildren(){return Y.find(Wo,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Y.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(WT))return;const r=(i,o)=>{const a=Y.findOne(i,s);a&&a.classList.toggle(o,n)};r(Gf,Rn),r(KT,Ho),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Rn)}_getInnerElement(e){return e.matches(Wo)?e:Y.findOne(Wo,e)}_getOuterElement(e){return e.closest(GT)||e}static jQueryInterface(e){return this.each(function(){const n=Cs.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(document,BT,Jf,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!hn(this)&&Cs.getOrCreateInstance(this).show()});P.on(window,VT,()=>{for(const t of Y.find(YT))Cs.getOrCreateInstance(t)});ut(Cs);const QT="toast",XT="bs.toast",_n=`.${XT}`,ZT=`mouseover${_n}`,eC=`mouseout${_n}`,tC=`focusin${_n}`,nC=`focusout${_n}`,sC=`hide${_n}`,rC=`hidden${_n}`,iC=`show${_n}`,oC=`shown${_n}`,aC="fade",td="hide",Vr="show",Hr="showing",lC={animation:"boolean",autohide:"boolean",delay:"number"},cC={animation:!0,autohide:!0,delay:5e3};class Ui extends _t{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cC}static get DefaultType(){return lC}static get NAME(){return QT}show(){if(P.trigger(this._element,iC).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(aC);const n=()=>{this._element.classList.remove(Hr),P.trigger(this._element,oC),this._maybeScheduleHide()};this._element.classList.remove(td),Tr(this._element),this._element.classList.add(Vr,Hr),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||P.trigger(this._element,sC).defaultPrevented)return;const n=()=>{this._element.classList.add(td),this._element.classList.remove(Hr,Vr),P.trigger(this._element,rC)};this._element.classList.add(Hr),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vr),super.dispose()}isShown(){return this._element.classList.contains(Vr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,ZT,e=>this._onInteraction(e,!0)),P.on(this._element,eC,e=>this._onInteraction(e,!1)),P.on(this._element,tC,e=>this._onInteraction(e,!0)),P.on(this._element,nC,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Ui.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Di(Ui);ut(Ui);const Yf=ym(uy);Yf.use(Gh);Yf.mount("#app");const uC=u0({onNeedRefresh(){console.log("🌀 Neue Version der App gefunden!"),uC(!0)},onOfflineReady(){console.log("✅ App ist bereit für Offline-Betrieb")}});
